{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TruncatePipe } from '../truncate.pipe';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../news.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common/http\";\nimport * as i4 from \"@angular/common\";\nconst _c0 = a0 => ({\n  \"odd-item\": a0\n});\nfunction NewsComponent_div_1_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵelement(1, \"img\", 7);\n    i0.ɵɵelementStart(2, \"div\", 8)(3, \"span\", 9);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"truncate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"span\", 10);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"truncate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"span\", 11);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    const i_r2 = ctx.index;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(13, _c0, i_r2 % 2 === 0));\n    i0.ɵɵadvance();\n    i0.ɵɵpropertyInterpolate(\"src\", item_r1.img, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵattribute(\"title\", item_r1.heading);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 7, item_r1.heading, 30));\n    i0.ɵɵadvance(2);\n    i0.ɵɵattribute(\"title\", item_r1.news);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(8, 10, item_r1.news, 50));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r1.date);\n  }\n}\nfunction NewsComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3);\n    i0.ɵɵtext(2, \"News\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"div\", 4);\n    i0.ɵɵtemplate(4, NewsComponent_div_1_div_4_Template, 11, 15, \"div\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.newsArray);\n  }\n}\nexport let NewsComponent = /*#__PURE__*/(() => {\n  class NewsComponent {\n    newsService;\n    router;\n    http;\n    toggleNewsComponent = new EventEmitter();\n    newsArray = [];\n    showNews = true;\n    marketTrends;\n    loading = false;\n    errorMessage = '';\n    newsData;\n    constructor(newsService, router, http) {\n      this.newsService = newsService;\n      this.router = router;\n      this.http = http;\n    }\n    ngOnInit() {\n      // this.getMarketTrends();\n      this.getNews();\n    }\n    getData(data) {\n      this.newsData = data?.feed;\n      if (data) {\n        for (let i = 0; i < 6; i++) {\n          this.newsArray.push({\n            img: this.newsData[i]?.banner_image,\n            heading: this.newsData[i]?.title,\n            news: this.newsData[i]?.summary,\n            date: this.formatDate(this.newsData[i]?.time_published),\n            url: this.newsData[i]?.url\n          });\n        }\n      } else {\n        for (let i = 0; i <= 5; i++) {\n          this.newsArray.push({\n            img: '',\n            heading: 'Hello',\n            news: 'Kaisi h',\n            date: '02-04-2002',\n            url: ''\n          });\n        }\n      }\n    }\n    toggleData() {\n      this.showNews = !this.showNews;\n      this.toggleNewsComponent.emit(this.showNews);\n    }\n    formatDate(dateString) {\n      const year = dateString.slice(0, 4);\n      const month = dateString.slice(4, 6);\n      const day = dateString.slice(6, 8);\n      const hours = dateString.slice(9, 11);\n      const minutes = dateString.slice(11, 13);\n      const seconds = dateString.slice(13, 15);\n      return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;\n    }\n    navigateToItem(url) {\n      this.router.navigateByUrl(url);\n    }\n    getNews() {\n      let url = 'https://wealtsphere.onrender.com/api/portfolio/fetchNews';\n      this.http.get(url).subscribe(res => {\n        if (res) {\n          this.marketTrends = res;\n          if (this.marketTrends.Information) {\n            this.getData();\n          } else {\n            this.getData(this.marketTrends);\n          }\n        }\n      });\n      {}\n    }\n    static ɵfac = function NewsComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || NewsComponent)(i0.ɵɵdirectiveInject(i1.NewsService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.HttpClient));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: NewsComponent,\n      selectors: [[\"app-news\"]],\n      outputs: {\n        toggleNewsComponent: \"toggleNewsComponent\"\n      },\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 2,\n      vars: 1,\n      consts: [[1, \"position-relative\", \"newsSection\", \"col-lg-12\"], [\"class\", \"d-flex flex-column col-lg-12\", 4, \"ngIf\"], [1, \"d-flex\", \"flex-column\", \"col-lg-12\"], [1, \"n-head\"], [1, \"border-btm\"], [\"class\", \"d-flex flex-row bulletins justify-content-around n-news\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [1, \"d-flex\", \"flex-row\", \"bulletins\", \"justify-content-around\", \"n-news\", 3, \"ngClass\"], [\"alt\", \"News Image\", 3, \"src\"], [1, \"d-flex\", \"flex-column\", \"news-point\"], [1, \"truncate\", 2, \"color\", \"#2641ce\"], [1, \"truncate\", 2, \"font-size\", \"12px\"], [2, \"font-size\", \"11px\"]],\n      template: function NewsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵtemplate(1, NewsComponent_div_1_Template, 5, 1, \"div\", 1);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.showNews);\n        }\n      },\n      dependencies: [CommonModule, i4.NgClass, i4.NgForOf, i4.NgIf, TruncatePipe],\n      styles: [\".newsSection[_ngcontent-%COMP%]{height:fit-content;background-color:transparent;position:relative}.n-head[_ngcontent-%COMP%]{color:#8e969c;font-size:18px;font-weight:700;align-self:center}.cardBoxShadow[_ngcontent-%COMP%]{box-shadow:0 0 5px #0003,0 4px 8px 0 transparent}.bulletins[_ngcontent-%COMP%]{cursor:pointer;color:#8e969c;background-color:#fff;z-index:1000;border-bottom:1px solid #c8c8c8;padding:10px 5px;gap:20px}.bulletins[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-self:center;height:50px;width:70px}.toggle[_ngcontent-%COMP%]{background-color:#8e969c;position:absolute;border-radius:0 16px 16px 15px/0px 16px 16px 15px;right:-3em;top:.3em;height:1.5em;z-index:1000;width:3em;border-radius:0 16px 16px 0/0px 16px 16px 0px}.toggle1[_ngcontent-%COMP%]{background-color:#8e969c;left:-3em;height:1.5em;z-index:1000;width:3em;border-radius:0 16px 16px 0/0px 16px 16px 0px}.border-btm[_ngcontent-%COMP%]{border-bottom:1px solid #c8c8c8}.news-point[_ngcontent-%COMP%]{position:relative}.truncate[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:200px}.truncate[_ngcontent-%COMP%]:hover{cursor:pointer}\"]\n    });\n    static ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: NewsComponent,\n      factory: NewsComponent.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return NewsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}