import{$ as gt,A as y,B as fe,C as Ke,D as Oe,Da as Et,E as Ze,F as Z,Fa as P,G as ke,Ha as nt,I as c,Ia as ie,J as g,Ja as C,K as ft,Ka as oe,La as se,M as p,Ma as re,N as Xe,Na as ae,O as et,Oa as le,P as V,Pa as ce,Q as d,Qa as Ie,R as tt,Ra as Ne,S as Pe,Sa as Ae,T as r,Ta as de,U as s,Ua as U,V as h,Va as q,W as $,Wa as Tt,X as j,Xa as J,Y as v,Ya as Q,Z as f,Za as Dt,_ as u,a as F,aa as bt,b as B,ba as yt,c as lt,ca as vt,d as W,da as Ct,e as ct,ea as R,f as Ue,fa as l,g as qe,ga as S,h as K,ha as z,i as dt,ia as St,j as Te,ja as D,k as ut,l as Me,m as Je,ma as X,n as pt,na as wt,o as mt,p as A,q as ht,qa as Re,r as Qe,ra as Fe,s as _e,t as De,ta as L,u as _t,ua as k,v as O,w as T,wa as x,x as xe,xa as H,y as Ye,ya as M,z as b}from"./chunk-LNW6KWMN.js";function Rt(i,t){if(i&1&&(r(0,"th",8)(1,"span"),l(2),s()()),i&2){let e=t.$implicit;c(2),S(e.header)}}function Ft(i,t){if(i&1&&(r(0,"tr"),p(1,Rt,3,1,"th",7),s()),i&2){let e=t.$implicit;c(),d("ngForOf",e)}}function It(i,t){if(i&1&&(r(0,"span"),l(1),s()),i&2){let e=u().$implicit,n=u().$implicit;c(),S(n[e.field])}}function Nt(i,t){if(i&1&&(r(0,"span",14),h(1,"img",15),r(2,"span"),l(3),s()()),i&2){let e=u().$implicit,n=u().$implicit;c(),d("src","../../.."+n.svg_url,ke),c(2),S(n[e.field])}}function At(i,t){if(i&1&&(r(0,"span"),l(1),s()),i&2){let e=u().$implicit,n=u().$implicit;c(),S(n[e.field])}}function Ht(i,t){if(i&1&&(r(0,"td",11),p(1,It,2,1,"span",12)(2,Nt,4,2,"span",13)(3,At,2,1,"span",12),s()),i&2){let e=t.$implicit,n=u(2);c(),d("ngIf",n.heading==="Cash"&&e.field!=="currency"),c(),d("ngIf",n.heading==="Cash"&&e.field==="currency"),c(),d("ngIf",n.heading!=="Cash")}}function Bt(i,t){if(i&1&&(r(0,"tr",9),p(1,Ht,4,3,"td",10),s()),i&2){let e=u();c(),d("ngForOf",e.columns)}}function Vt(i,t){if(i&1&&($(0),r(1,"tr")(2,"td",16)(3,"span"),l(4,"No Records Found!"),s()()(),j()),i&2){let e=u().$implicit;c(2),V("colspan",e.length)}}function Lt(i,t){if(i&1&&p(0,Vt,5,1,"ng-container",12),i&2){let e=u();d("ngIf",e.data.length===0)}}var N=class i{constructor(t,e){this.route=t;this.http=e}data=[];columns=[];heading="";ngOnInit(){this.route.url.subscribe(t=>{let e=t.map(n=>n.path).join("/");this.fetchNewsBasedOnUrl(e)}),this.populateSchema(this.heading),this.getData(this.heading)}populateSchema(t){t=="Stocks"&&(this.columns=[{field:"stocks",header:"Stocks"},{field:"marketPrice",header:"Market Price"},{field:"change",header:"Change(%)"}]),t=="Cash"&&(this.columns=[{field:"currency",header:"Currency"},{field:"exchange_rate",header:"Exchange Rate"},{field:"actual_price",header:"Estimated Value(INR)"}]),t=="Crypto"&&(this.columns=[{field:"symbol",header:"Symbol"},{field:"cmc_rank",header:"CMC Rank"},{field:"circulating_supply",header:"Circulating Supply"},{field:"total_supply",header:"Total Supply"},{field:"max_supply",header:"Max Supply"}]),this.heading=="FD"&&(this.columns=[{field:"bank_name",header:"Bank Name"},{field:"citizen_rate",header:"General Citizen Rate"},{field:"old_citizen_rate",header:"Senior Citizen Rate"}])}getData(t){let e;t=="Stocks"&&(e="https://wealtsphere.onrender.com/api/portfolio/getGainers",this.http.get(e).subscribe(n=>{n&&this.populateData(n)})),t=="Cash"&&(e="https://wealtsphere.onrender.com/api/portfolio/exchangeRates",this.http.get(e).subscribe(n=>{sessionStorage.setItem("ExchangeRates",JSON.stringify(n)),this.populateData(n)})),t=="Crypto"&&(e="https://wealtsphere.onrender.com/api/portfolio/cryptoRates",this.http.get(e).subscribe(n=>{this.populateData(n)})),t=="FD"&&(e="https://wealtsphere.onrender.com/api/portfolio/fdRates",this.http.get(e).subscribe(n=>{this.populateData(n)}))}populateData(t){if(this.data=[],this.heading=="Stocks"){let e=t?.top_gainers;if(e&&e.length)for(let n=0;n<5;n++)this.data.push({stocks:e[n]?.ticker,marketPrice:e[n]?.price,change:e[n]?.change_percentage})}if(this.heading=="Cash")for(let e=0;e<5;e++)this.data.push({currency:t[e].currency,exchange_rate:t[e].exchange_rate,actual_price:"\u20B9 "+t[e].actual_price.toFixed(2),svg_url:t[e].svg_url});if(this.heading=="Crypto")for(let e=0;e<5;e++)this.data.push({symbol:t?.data[e]?.symbol,cmc_rank:t?.data[e].cmc_rank,circulating_supply:t?.data[e].circulating_supply,total_supply:t?.data[e].total_supply,max_supply:t?.data[e].max_supply});if(this.heading=="FD")for(let e=0;e<t?.length;e++)this.data.push({bank_name:t[e].bank,citizen_rate:t[e].generalCitizensRate,old_citizen_rate:t[e].seniorCitizensRate})}fetchNewsBasedOnUrl(t){t.includes("stocks")?this.heading="Stocks":t.includes("cash")?this.heading="Cash":t.includes("crypto")?this.heading="Crypto":t.includes("fd")?this.heading="FD":this.heading="Default Heading"}static \u0275fac=function(e){return new(e||i)(g(Et),g(M))};static \u0275cmp=T({type:i,selectors:[["app-fetch-news"]],standalone:!0,features:[D],decls:11,vars:3,consts:[[1,"col-lg-12"],[1,"cardBoxShadow"],[1,"cardBoxShadow1","mt-4"],[3,"columns","value","rows"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["class","custom-header",4,"ngFor","ngForOf"],[1,"custom-header"],[1,"custom-row"],["class","custom-cell",4,"ngFor","ngForOf"],[1,"custom-cell"],[4,"ngIf"],["class","d-flex flex-row",4,"ngIf"],[1,"d-flex","flex-row"],[1,"flags",3,"src"],[1,"no-record"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"span"),l(3,"Top Movers"),s()(),r(4,"div",2)(5,"span"),l(6,"Top 5 Gainers"),s()(),r(7,"p-table",3),p(8,Ft,2,1,"ng-template",4)(9,Bt,2,1,"ng-template",5)(10,Lt,1,1,"ng-template",6),s()()),e&2&&(c(7),d("columns",n.columns)("value",n.data)("rows",10))},dependencies:[x,L,k,Q,J,q],styles:[".cardBoxShadow[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:8px;padding:16px;box-shadow:0 4px 8px #0000001a;display:flex;align-items:center}.cardBoxShadow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;margin-right:16px}.cardBoxShadow1[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0003;border-radius:8px;padding:20px;margin-bottom:20px;background-color:#fff}.cardBoxShadow1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#00786c}.flags[_ngcontent-%COMP%]{height:2em;margin-right:1em}.cardBoxShadow[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#00786c}.custom-header[_ngcontent-%COMP%]{background-color:#00786c;color:#fff;font-weight:700;text-align:left}.custom-row[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}.custom-cell[_ngcontent-%COMP%]{padding:8px}.custom-cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;color:#00786c}.p-table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.p-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .p-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left}.p-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#00786c;color:#fff}.p-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f2f2f2}.p-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#009688;color:#fff}.p-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}.p-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;color:#00786c}.p-table[_ngcontent-%COMP%]   td.no-record[_ngcontent-%COMP%]{text-align:center}"]})};function Gt(i,t){if(i&1&&(r(0,"th",11)(1,"span"),l(2),s()()),i&2){let e=t.$implicit;c(2),S(e.header)}}function $t(i,t){if(i&1&&(r(0,"tr"),p(1,Gt,3,1,"th",10),s()),i&2){let e=t.$implicit;c(),d("ngForOf",e)}}function jt(i,t){if(i&1&&(r(0,"span"),l(1),s()),i&2){let e=u().$implicit,n=u().$implicit;c(),S(n[e.field])}}function Wt(i,t){i&1&&(r(0,"span"),h(1,"img",16),s())}function zt(i,t){if(i&1&&(r(0,"td",14),p(1,jt,2,1,"span",15)(2,Wt,2,0,"span",15),s()),i&2){let e=t.$implicit;c(),d("ngIf",e.field!=="action"),c(),d("ngIf",e.field=="action")}}function Ut(i,t){if(i&1){let e=v();r(0,"tr",12),f("click",function(){let o=b(e).$implicit,a=u();return y(a.storeToEdit(o))}),p(1,zt,3,2,"td",13),s()}if(i&2){let e=u();c(),d("ngForOf",e.columns)}}function qt(i,t){if(i&1&&($(0),r(1,"tr")(2,"td")(3,"span"),l(4,"No Records Found!"),s()()(),j()),i&2){let e=u().$implicit;c(2),V("colspan",e.length)}}function Jt(i,t){if(i&1&&p(0,qt,5,1,"ng-container",15),i&2){let e=u();d("ngIf",e.data.length===0)}}var ge=class i{constructor(t,e){this.http=t;this.router=e}columns=[];data=[];ngOnInit(){this.populateSchema(),this.getStockData()}populateSchema(){this.columns=[{field:"bank",header:"Bank"},{field:"amount",header:"Deposit Amount"},{field:"interest_rate",header:"Interest Rate"},{field:"tenure",header:"Tenure"},{field:"maturity_date",header:"Maturity Date"},{field:"expected_return",header:"Maturity Amount"},{field:"action",hseader:" "}]}getStockData(){this.http.get("https://wealtsphere.onrender.com/api/portfolio/getfd").subscribe(e=>{e&&this.populateData(e)})}populateData(t){this.data=[];for(let e=0;e<t?.length;e++)this.data.push({bank:t[e].bankName,amount:this.addCommasToNumber(t[e]?.depositAmount.toFixed(2)),interest_rate:t[e].interestRate,tenure:t[e].tenure,maturity_date:new Date(t[e].maturityDate).toLocaleDateString(),expected_return:this.addCommasToNumber(t[e]?.expectedReturn.toFixed(2)),orderId:t[e].orderId?t[e].orderId:""})}addCommasToNumber(t){return typeof t=="number"&&(t=t.toString()),t.replace(/\B(?=(\d{3})+(?!\d))/g,",")}routeToStock(){this.router.navigate(["/add-investment/add-fd"])}storeToEdit(t){sessionStorage.setItem("Data_for_Edit",JSON.stringify(t)),this.router.navigate(["/add-investment/add-fd"])}static \u0275fac=function(e){return new(e||i)(g(M),g(P))};static \u0275cmp=T({type:i,selectors:[["app-fd"]],standalone:!0,features:[D],decls:17,vars:3,consts:[[1,"cardBoxShadow","col-lg-12","d-flex","justify-content-between"],[3,"click"],[1,"stock-box","d-flex","flex-row","col-lg-12"],[1,"col-lg-7"],[1,"cardBoxShadow"],[3,"columns","value","rows"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[1,"col-lg-5"],["class","custom-header",4,"ngFor","ngForOf"],[1,"custom-header"],[1,"custom-row",3,"click"],["class","custom-cell",4,"ngFor","ngForOf"],[1,"custom-cell"],[4,"ngIf"],["src","../../../assets/edit-svgrepo-com.svg",1,"edit-svg"]],template:function(e,n){e&1&&(r(0,"div")(1,"div",0)(2,"span"),l(3,"Fixed Deposit Dashboard"),s(),r(4,"button",1),f("click",function(){return n.routeToStock()}),l(5," + Add FD "),s()(),r(6,"div",2)(7,"div",3)(8,"div",4),h(9,"img"),r(10,"span"),l(11,"My FDs"),s()(),r(12,"p-table",5),p(13,$t,2,1,"ng-template",6)(14,Ut,2,1,"ng-template",7)(15,Jt,1,1,"ng-template",8),s()(),h(16,"app-fetch-news",9),s()()),e&2&&(c(12),d("columns",n.columns)("value",n.data)("rows",10))},dependencies:[x,L,k,Q,J,q,N],styles:[".cardBoxShadow[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0003;border-radius:8px;padding:20px;margin-bottom:20px;background-color:#fff}.cardBoxShadow[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#00786c}.cardBoxShadow[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#00786c;color:#fff;border:none;border-radius:4px;padding:10px 20px;font-size:16px;cursor:pointer}.cardBoxShadow[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#005b4f}.stock-box[_ngcontent-%COMP%]{display:flex;flex-direction:row}.col-lg-7[_ngcontent-%COMP%], .col-lg-5[_ngcontent-%COMP%]{padding:0 20px}.custom-header[_ngcontent-%COMP%]{background-color:#00786c;color:#fff;text-align:left}.custom-cell[_ngcontent-%COMP%]{padding:10px;text-align:left}.custom-row[_ngcontent-%COMP%]{transition:background-color .3s ease}.custom-row[_ngcontent-%COMP%]:hover{background-color:#e0f2f1}p-table[_ngcontent-%COMP%]{background-color:#fff}p-table[_ngcontent-%COMP%]   .custom-header[_ngcontent-%COMP%], p-table[_ngcontent-%COMP%]   .custom-cell[_ngcontent-%COMP%]{border:1px solid #dddddd}.edit-svg[_ngcontent-%COMP%]{height:2em;width:2em}"]})};function Qt(i,t){if(i&1&&(r(0,"th",11)(1,"span"),l(2),s()()),i&2){let e=t.$implicit;c(2),S(e.header)}}function Yt(i,t){if(i&1&&(r(0,"tr"),p(1,Qt,3,1,"th",10),s()),i&2){let e=t.$implicit;c(),d("ngForOf",e)}}function Kt(i,t){if(i&1&&(r(0,"span"),l(1),s()),i&2){let e=u().$implicit,n=u().$implicit;c(),S(n[e.field])}}function Zt(i,t){i&1&&(r(0,"span"),h(1,"img",16),s())}function Xt(i,t){if(i&1&&(r(0,"td",14),p(1,Kt,2,1,"span",15)(2,Zt,2,0,"span",15),s()),i&2){let e=t.$implicit;c(),d("ngIf",e.field!=="action"),c(),d("ngIf",e.field=="action")}}function en(i,t){if(i&1){let e=v();r(0,"tr",12),f("click",function(){let o=b(e).$implicit,a=u();return y(a.storeToEdit(o))}),p(1,Xt,3,2,"td",13),s()}if(i&2){let e=u();c(),d("ngForOf",e.columns)}}function tn(i,t){if(i&1&&($(0),r(1,"tr")(2,"td")(3,"span"),l(4,"No Records Found!"),s()()(),j()),i&2){let e=u().$implicit;c(2),V("colspan",e.length)}}function nn(i,t){if(i&1&&p(0,tn,5,1,"ng-container",15),i&2){let e=u();d("ngIf",e.data.length===0)}}var be=class i{constructor(t,e){this.http=t;this.router=e}columns=[];data=[];ngOnInit(){this.populateSchema(),this.getStockData()}populateSchema(){this.columns=[{field:"company",header:"Stocks"},{field:"symbol",header:"Stock Symbol"},{field:"quantity",header:"Quantity Owned"},{field:"purchasePrice",header:"Purchase Price"},{field:"totalValue",header:"Total Value"},{field:"action",hseader:" "}]}getStockData(){this.http.get("https://wealtsphere.onrender.com/api/portfolio/getstock").subscribe(e=>{e&&this.populateData(e)})}populateData(t){this.data=[];for(let e=0;e<t?.length;e++)this.data.push({company:t[e].company,symbol:t[e].symbol,quantity:t[e].quantity,totalValue:this.addCommasToNumber(t[e].totalValue.toFixed(2)),purchasePrice:this.addCommasToNumber(t[e].purchasePrice.toFixed(2)),currentPrice:this.addCommasToNumber(t[e].currentPrice.toFixed(2)),orderId:t[e].orderId?t[e].orderId:""})}routeToStock(){this.router.navigate(["/add-investment/add-stock"])}storeToEdit(t){sessionStorage.setItem("Data_for_Edit",JSON.stringify(t)),this.router.navigate(["/add-investment/add-stock"])}addCommasToNumber(t){return typeof t=="number"&&(t=t.toString()),t.replace(/\B(?=(\d{3})+(?!\d))/g,",")}static \u0275fac=function(e){return new(e||i)(g(M),g(P))};static \u0275cmp=T({type:i,selectors:[["app-stocks"]],standalone:!0,features:[D],decls:17,vars:3,consts:[[1,"cardBoxShadow","col-lg-12","d-flex","justify-content-between"],[3,"click"],[1,"stock-box","d-flex","flex-row","col-lg-12"],[1,"col-lg-7"],[1,"cardBoxShadow"],[3,"columns","value","rows"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[1,"col-lg-5"],["class","custom-header",4,"ngFor","ngForOf"],[1,"custom-header"],[1,"custom-row",3,"click"],["class","custom-cell",4,"ngFor","ngForOf"],[1,"custom-cell"],[4,"ngIf"],["src","../../../assets/edit-svgrepo-com.svg",1,"edit-svg"]],template:function(e,n){e&1&&(r(0,"div")(1,"div",0)(2,"span"),l(3,"Stocks Dashboard"),s(),r(4,"button",1),f("click",function(){return n.routeToStock()}),l(5," + Add Stock "),s()(),r(6,"div",2)(7,"div",3)(8,"div",4),h(9,"img"),r(10,"span"),l(11,"My Stocks"),s()(),r(12,"p-table",5),p(13,Yt,2,1,"ng-template",6)(14,en,2,1,"ng-template",7)(15,nn,1,1,"ng-template",8),s()(),h(16,"app-fetch-news",9),s()()),e&2&&(c(12),d("columns",n.columns)("value",n.data)("rows",10))},dependencies:[x,L,k,Q,J,q,N],styles:[".cardBoxShadow[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0003;border-radius:8px;padding:20px;margin-bottom:20px;background-color:#fff}.cardBoxShadow[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#00786c}.cardBoxShadow[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#00786c;color:#fff;border:none;border-radius:4px;padding:10px 20px;font-size:16px;cursor:pointer}.cardBoxShadow[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#005b4f}.stock-box[_ngcontent-%COMP%]{display:flex;flex-direction:row}.col-lg-7[_ngcontent-%COMP%], .col-lg-5[_ngcontent-%COMP%]{padding:0 20px}.custom-header[_ngcontent-%COMP%]{background-color:#00786c;color:#fff;text-align:left}.custom-cell[_ngcontent-%COMP%]{padding:10px;text-align:left}.custom-row[_ngcontent-%COMP%]{transition:background-color .3s ease}.custom-row[_ngcontent-%COMP%]:hover{background-color:#e0f2f1}p-table[_ngcontent-%COMP%]{background-color:#fff}p-table[_ngcontent-%COMP%]   .custom-header[_ngcontent-%COMP%], p-table[_ngcontent-%COMP%]   .custom-cell[_ngcontent-%COMP%]{border:1px solid #dddddd}.edit-svg[_ngcontent-%COMP%]{height:2em;width:2em}"]})};function on(i,t){if(i&1&&(r(0,"th",11)(1,"span"),l(2),s()()),i&2){let e=t.$implicit;c(2),S(e.header)}}function sn(i,t){if(i&1&&(r(0,"tr"),p(1,on,3,1,"th",10),s()),i&2){let e=t.$implicit;c(),d("ngForOf",e)}}function rn(i,t){if(i&1&&(r(0,"span",17),h(1,"img",18),r(2,"span"),l(3),s()()),i&2){let e=u().$implicit,n=u().$implicit;c(),d("src","../../.."+n.svg_url,ke),c(2),S(n[e.field])}}function an(i,t){if(i&1&&(r(0,"span"),l(1),s()),i&2){let e=u().$implicit,n=u().$implicit;c(),S(n[e.field])}}function ln(i,t){if(i&1&&(r(0,"span"),l(1),s()),i&2){let e=u().$implicit,n=u().$implicit;c(),St("",n.symbol," ",n[e.field],"")}}function cn(i,t){if(i&1&&(r(0,"span"),l(1),s()),i&2){let e=u().$implicit,n=u().$implicit;c(),z("\u20B9 ",n[e.field],"")}}function dn(i,t){i&1&&(r(0,"span"),h(1,"img",19),s())}function un(i,t){if(i&1&&(r(0,"td",14),p(1,rn,4,2,"span",15)(2,an,2,1,"span",16)(3,ln,2,2,"span",16)(4,cn,2,1,"span",16)(5,dn,2,0,"span",16),s()),i&2){let e=t.$implicit;c(),d("ngIf",e.field=="currency"),c(),d("ngIf",e.field!=="currency"&&e.field!="amount"&&e.field!="inrAmount"),c(),d("ngIf",e.field=="amount"),c(),d("ngIf",e.field=="inrAmount"),c(),d("ngIf",e.field=="actions")}}function pn(i,t){if(i&1){let e=v();r(0,"tr",12),f("click",function(){let o=b(e).$implicit,a=u();return y(a.storeToEdit(o))}),p(1,un,6,5,"td",13),s()}if(i&2){let e=u();c(),d("ngForOf",e.columns)}}function mn(i,t){if(i&1&&($(0),r(1,"tr")(2,"td")(3,"span"),l(4,"No Records Found!"),s()()(),j()),i&2){let e=u().$implicit;c(2),V("colspan",e.length)}}function hn(i,t){if(i&1&&p(0,mn,5,1,"ng-container",16),i&2){let e=u();d("ngIf",e.data.length===0)}}var ye=class i{constructor(t,e){this.router=t;this.http=e}columns=[];data=[];ngOnInit(){this.populateSchema(),this.getCashData()}populateSchema(){this.columns=[{field:"source",header:"Source"},{field:"amount",header:"Amount"},{field:"currency",header:"Currency"},{field:"inrAmount",header:"Estimated Amt."},{field:"date",header:"Date"},{field:"actions",header:""}]}storeToEdit(t){sessionStorage.setItem("Data_for_Edit",JSON.stringify(t)),this.router.navigate(["/add-investment/add-cash"])}getCashData(){this.http.get("https://wealtsphere.onrender.com/api/portfolio/getcash").subscribe(e=>{e&&this.populateData(e)})}populateData(t){this.data=[];for(let e=0;e<t?.length;e++)this.data.push({source:t[e].source,amount:this.addCommasToNumber(t[e].amount.toFixed(2)),currency:t[e].currency,svg_url:t[e].svg_url,symbol:t[e].symbol,inrAmount:this.addCommasToNumber(t[e].amountinINR.toFixed(2)),orderId:t[e].orderId,date:new Date(t[e].date).toLocaleDateString()})}routeToCash(){this.router.navigate(["/add-investment/add-cash"])}addCommasToNumber(t){return typeof t=="number"&&(t=t.toString()),t.replace(/\B(?=(\d{3})+(?!\d))/g,",")}static \u0275fac=function(e){return new(e||i)(g(P),g(M))};static \u0275cmp=T({type:i,selectors:[["app-cash"]],standalone:!0,features:[D],decls:17,vars:3,consts:[[1,"cardBoxShadow","col-lg-12","d-flex","justify-content-between"],[3,"click"],[1,"cash-box","d-flex","flex-row","col-lg-12"],[1,"col-lg-7"],[1,"cardBoxShadow"],[3,"columns","value","rows"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[1,"col-lg-5"],["class","custom-header",4,"ngFor","ngForOf"],[1,"custom-header"],[1,"custom-row",3,"click"],["class","custom-cell",4,"ngFor","ngForOf"],[1,"custom-cell"],["class","d-flex flex-row",4,"ngIf"],[4,"ngIf"],[1,"d-flex","flex-row"],[1,"flags",3,"src"],["src","../../../assets/edit-svgrepo-com.svg",1,"edit-svg"]],template:function(e,n){e&1&&(r(0,"div")(1,"div",0)(2,"span"),l(3,"Cash Dashboard"),s(),r(4,"button",1),f("click",function(){return n.routeToCash()}),l(5," + Add Cash "),s()(),r(6,"div",2)(7,"div",3)(8,"div",4),h(9,"img"),r(10,"span"),l(11,"My Cash"),s()(),r(12,"p-table",5),p(13,sn,2,1,"ng-template",6)(14,pn,2,1,"ng-template",7)(15,hn,1,1,"ng-template",8),s()(),h(16,"app-fetch-news",9),s()()),e&2&&(c(12),d("columns",n.columns)("value",n.data)("rows",10))},dependencies:[N,x,L,k,Q,J,q],styles:[".cardBoxShadow[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0003;border-radius:8px;padding:20px;margin-bottom:20px;background-color:#fff}.cardBoxShadow[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#00786c}.cardBoxShadow[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#00786c;color:#fff;border:none;border-radius:4px;padding:10px 20px;font-size:16px;cursor:pointer}.cardBoxShadow[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#005b4f}.stock-box[_ngcontent-%COMP%]{display:flex;flex-direction:row}.col-lg-7[_ngcontent-%COMP%], .col-lg-5[_ngcontent-%COMP%]{padding:0 20px}.custom-header[_ngcontent-%COMP%]{background-color:#00786c;color:#fff;text-align:left}.custom-cell[_ngcontent-%COMP%]{padding:10px;text-align:left}.custom-row[_ngcontent-%COMP%]{transition:background-color .3s ease}.custom-row[_ngcontent-%COMP%]:hover{background-color:#e0f2f1}p-table[_ngcontent-%COMP%]{background-color:#fff}p-table[_ngcontent-%COMP%]   .custom-header[_ngcontent-%COMP%], p-table[_ngcontent-%COMP%]   .custom-cell[_ngcontent-%COMP%]{border:1px solid #dddddd}.flags[_ngcontent-%COMP%]{height:2em;margin-right:1em}.edit-svg[_ngcontent-%COMP%]{height:2em;width:2em}"]})};function _n(i,t){if(i&1&&(r(0,"th",11)(1,"span"),l(2),s()()),i&2){let e=t.$implicit;c(2),S(e.header)}}function fn(i,t){if(i&1&&(r(0,"tr"),p(1,_n,3,1,"th",10),s()),i&2){let e=t.$implicit;c(),d("ngForOf",e)}}function gn(i,t){if(i&1&&(r(0,"span"),l(1),s()),i&2){let e=u().$implicit,n=u().$implicit;c(),S(n[e.field])}}function bn(i,t){i&1&&(r(0,"span"),h(1,"img",16),s())}function yn(i,t){if(i&1&&(r(0,"td",14),p(1,gn,2,1,"span",15)(2,bn,2,0,"span",15),s()),i&2){let e=t.$implicit;c(),d("ngIf",e.field!=="action"),c(),d("ngIf",e.field=="action")}}function vn(i,t){if(i&1){let e=v();r(0,"tr",12),f("click",function(){let o=b(e).$implicit,a=u();return y(a.storeToEdit(o))}),p(1,yn,3,2,"td",13),s()}if(i&2){let e=u();c(),d("ngForOf",e.columns)}}function Cn(i,t){if(i&1&&($(0),r(1,"tr")(2,"td")(3,"span"),l(4,"No Records Found!"),s()()(),j()),i&2){let e=u().$implicit;c(2),V("colspan",e.length)}}function Sn(i,t){if(i&1&&p(0,Cn,5,1,"ng-container",15),i&2){let e=u();d("ngIf",e.data.length===0)}}var ve=class i{constructor(t,e){this.http=t;this.router=e}columns=[];data=[];ngOnInit(){this.populateSchema(),this.getStockData()}populateSchema(){this.columns=[{field:"type",header:"Type"},{field:"quantity",header:"Quantity Owned"},{field:"purchasePrice",header:"Purchase Price"},{field:"currentValue",header:"Current Value"},{field:"totalValue",header:"Total Value"},{field:"purchaseDate",header:"Purchase Date"},{field:"action",hseader:" "}]}getStockData(){this.http.get("https://wealtsphere.onrender.com/api/portfolio/getcrypto").subscribe(e=>{e&&this.populateData(e)})}populateData(t){this.data=[];for(let e=0;e<t?.length;e++)this.data.push({type:t[e].type,quantity:t[e].quantity,totalValue:this.addCommasToNumber(t[e].totalValue.toFixed(2)),purchasePrice:this.addCommasToNumber(t[e].purchasePrice.toFixed(2)),currentValue:this.addCommasToNumber(t[e].currentValue.toFixed(2)),orderId:t[e].orderId?t[e].orderId:"",purchaseDate:this.formatDate(t[e].purchaseDate)})}routeToStock(){this.router.navigate(["/add-investment/add-crypto"])}storeToEdit(t){sessionStorage.setItem("Data_for_Edit",JSON.stringify(t)),this.router.navigate(["/add-investment/add-crypto"])}addCommasToNumber(t){return typeof t=="number"&&(t=t.toString()),t.replace(/\B(?=(\d{3})+(?!\d))/g,",")}formatDate(t){let e=new Date(t),n=e.getDate().toString().padStart(2,"0"),o=(e.getMonth()+1).toString().padStart(2,"0"),a=e.getFullYear();return`${n}-${o}-${a}`}static \u0275fac=function(e){return new(e||i)(g(M),g(P))};static \u0275cmp=T({type:i,selectors:[["app-crypto"]],standalone:!0,features:[D],decls:17,vars:3,consts:[[1,"cardBoxShadow","col-lg-12","d-flex","justify-content-between"],[3,"click"],[1,"stock-box","d-flex","flex-row","col-lg-12"],[1,"col-lg-7"],[1,"cardBoxShadow"],[3,"columns","value","rows"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[1,"col-lg-5"],["class","custom-header",4,"ngFor","ngForOf"],[1,"custom-header"],[1,"custom-row",3,"click"],["class","custom-cell",4,"ngFor","ngForOf"],[1,"custom-cell"],[4,"ngIf"],["src","../../../assets/edit-svgrepo-com.svg",1,"edit-svg"]],template:function(e,n){e&1&&(r(0,"div")(1,"div",0)(2,"span"),l(3,"CryptoCurrency Dashboard"),s(),r(4,"button",1),f("click",function(){return n.routeToStock()}),l(5," + Add Crypto "),s()(),r(6,"div",2)(7,"div",3)(8,"div",4),h(9,"img"),r(10,"span"),l(11,"My CryptoCurrency"),s()(),r(12,"p-table",5),p(13,fn,2,1,"ng-template",6)(14,vn,2,1,"ng-template",7)(15,Sn,1,1,"ng-template",8),s()(),h(16,"app-fetch-news",9),s()()),e&2&&(c(12),d("columns",n.columns)("value",n.data)("rows",10))},dependencies:[N,Q,J,q,x,L,k],styles:[".cardBoxShadow[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0003;border-radius:8px;padding:20px;margin-bottom:20px;background-color:#fff}.cardBoxShadow[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#00786c}.cardBoxShadow[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#00786c;color:#fff;border:none;border-radius:4px;padding:10px 20px;font-size:16px;cursor:pointer}.cardBoxShadow[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#005b4f}.stock-box[_ngcontent-%COMP%]{display:flex;flex-direction:row}.col-lg-7[_ngcontent-%COMP%], .col-lg-5[_ngcontent-%COMP%]{padding:0 20px}.custom-header[_ngcontent-%COMP%]{background-color:#00786c;color:#fff;text-align:left}.custom-cell[_ngcontent-%COMP%]{padding:10px;text-align:left}.custom-row[_ngcontent-%COMP%]{transition:background-color .3s ease}.custom-row[_ngcontent-%COMP%]:hover{background-color:#e0f2f1}p-table[_ngcontent-%COMP%]{background-color:#fff}p-table[_ngcontent-%COMP%]   .custom-header[_ngcontent-%COMP%], p-table[_ngcontent-%COMP%]   .custom-cell[_ngcontent-%COMP%]{border:1px solid #dddddd}.edit-svg[_ngcontent-%COMP%]{height:2em;width:2em}"]})};var Ce=class i{constructor(t,e){this.router=t;this.http=e}totals;ngOnInit(){this.getTotals()}getTotals(){this.http.get("https://wealtsphere.onrender.com/api/portfolio/portfolioTotal").subscribe(e=>{e&&(this.totals=e)})}routeTo(t){this.router.navigate([`/add-investment/${t}`])}addCommasToNumber(t){return t==null?"":(typeof t=="number"&&(t=t.toString()),t.replace(/\B(?=(\d{3})+(?!\d))/g,","))}static \u0275fac=function(e){return new(e||i)(g(P),g(M))};static \u0275cmp=T({type:i,selectors:[["app-add-investment"]],standalone:!0,features:[D],decls:47,vars:4,consts:[[1,"initialise","col-lg-12"],[1,"options","col-lg-9"],[1,"stocks-box","d-flex","flex-column","justify-content-between",3,"click"],[1,"d-flex","flex-row"],[2,"font-size","25px","font-weight","bold","margin-left","1em"],[1,"align-self-center"],["src","../../../assets/stock-ticker.svg",1,"asset-svg"],[1,"d-flex","flex-row","justify-content-between"],[2,"font-size","20px","font-weight","bold","margin-left","1em"],[2,"font-size","21px","font-weight","bold","margin-right","1em"],[1,"cash-box","d-flex","flex-column","justify-content-between",3,"click"],["src","../../../assets/country-currencies.svg",1,"asset-svg"],[1,"fd-box","d-flex","flex-column","justify-content-between",3,"click"],["src","../../../assets/fd-svg.svg",1,"asset-svg"],[1,"crypto-box","d-flex","flex-column","justify-content-between",3,"click"],["src","../../../assets/bitcoin.svg",1,"asset-svg"],[1,"for-invest","cardBoxShadow"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),f("click",function(){return n.routeTo("stocks")}),r(3,"div",3)(4,"span",4),l(5,"Stocks"),s()(),r(6,"div",5),h(7,"img",6),s(),r(8,"div",7)(9,"span",8),l(10,"Current Position"),s(),r(11,"span",9),l(12),s()()(),r(13,"div",10),f("click",function(){return n.routeTo("cash")}),r(14,"div",3)(15,"span",4),l(16,"Cash"),s()(),r(17,"div",5),h(18,"img",11),s(),r(19,"div",7)(20,"span",8),l(21,"Current Position"),s(),r(22,"span",9),l(23),s()()(),r(24,"div",12),f("click",function(){return n.routeTo("fd")}),r(25,"div",3)(26,"span",4),l(27,"Fixed Deposits"),s()(),r(28,"div",5),h(29,"img",13),s(),r(30,"div",7)(31,"span",8),l(32,"Current Position"),s(),r(33,"span",9),l(34),s()()(),r(35,"div",14),f("click",function(){return n.routeTo("crypto")}),r(36,"div",3)(37,"span",4),l(38,"CryptoCurrency"),s()(),r(39,"div",5),h(40,"img",15),s(),r(41,"div",7)(42,"span",8),l(43,"Current Position"),s(),r(44,"span",9),l(45),s()()()(),h(46,"app-news",16),s()),e&2&&(c(12),z("\u20B9 ",!(n.totals==null||n.totals.assetValues==null)&&n.totals.assetValues.stockTotal?n.addCommasToNumber(n.totals==null||n.totals.assetValues==null?null:n.totals.assetValues.stockTotal.toFixed(2)):"0",""),c(11),z("\u20B9 ",!(n.totals==null||n.totals.assetValues==null)&&n.totals.assetValues.cashTotal?n.addCommasToNumber(n.totals==null||n.totals.assetValues==null?null:n.totals.assetValues.cashTotal.toFixed(2)):"0",""),c(11),z("\u20B9 ",n.addCommasToNumber(n.totals==null||n.totals.assetValues==null?null:n.totals.assetValues.fdTotal.toFixed(2)),""),c(11),z("\u20B9 ",n.addCommasToNumber(n.totals==null||n.totals.assetValues==null?null:n.totals.assetValues.cryptoTotal.toFixed(2)),""))},dependencies:[Dt],styles:[".initialise[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.options[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr 1fr;grid-template-columns:1fr 1fr;row-gap:1em;padding:1em 1em 1em 5.5em}.for-invest[_ngcontent-%COMP%]{width:30em;right:3em}.options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{color:#fff;height:18em;width:28em;border-radius:10px;cursor:pointer}.stock-news[_ngcontent-%COMP%]{background-color:#00f}.stocks-box[_ngcontent-%COMP%]{background-color:#ff6384}.stocks-box[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:30px}.stocks-box[_ngcontent-%COMP%]:hover{background-color:#e44064;transform:scale(1.02);transition:transform .3s ease-in-out}.fd-box[_ngcontent-%COMP%]{background-color:#4bc0c0}.fd-box[_ngcontent-%COMP%]:hover{background-color:#21b6b6;transform:scale(1.02);transition:transform .3s ease-in-out}.cash-box[_ngcontent-%COMP%]{background-color:#36a2eb}.cash-box[_ngcontent-%COMP%]:hover{background-color:#1a8fdd;transform:scale(1.02);transition:transform .3s ease-in-out}.crypto-box[_ngcontent-%COMP%]{background-color:#ffce56}.crypto-box[_ngcontent-%COMP%]:hover{background-color:#edba3a;transform:scale(1.02);transition:transform .3s ease-in-out}.asset-svg[_ngcontent-%COMP%]{height:200px}"]})};var En=["*"];var Tn=["dialog"];var xt={animation:!0,transitionTimerDelayMs:5},Dn=(()=>{let t=class t{constructor(){this.animation=xt.animation}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function xn(i){let{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(i),n=parseFloat(t),o=parseFloat(e);return(n+o)*1e3}function Mt(i){return typeof i=="string"}function it(i){return i!=null}function Mn(i){return i&&i.then}function Ot(i){return(i||document.body).getBoundingClientRect()}function On(i){return t=>new lt(e=>{let n=m=>i.run(()=>e.next(m)),o=m=>i.run(()=>e.error(m)),a=()=>i.run(()=>e.complete());return t.subscribe({next:n,error:o,complete:a})})}var kn=()=>{},{transitionTimerDelayMs:Pn}=xt,Ve=new Map,he=(i,t,e,n)=>{let o=n.context||{},a=Ve.get(t);if(a)switch(n.runningTransition){case"continue":return ct;case"stop":i.run(()=>a.transition$.complete()),o=Object.assign(a.context,o),Ve.delete(t)}let m=e(t,n.animation,o)||kn;if(!n.animation||window.getComputedStyle(t).transitionProperty==="none")return i.run(()=>m()),Ue(void 0).pipe(On(i));let _=new W,w=new W,E=_.pipe(pt(!0));Ve.set(t,{transition$:_,complete:()=>{w.next(),w.complete()},context:o});let I=xn(t);return i.runOutsideAngular(()=>{let Ee=K(t,"transitionend").pipe(A(E),Te(({target:me})=>me===t)),Y=dt(I+Pn).pipe(A(E));ut(Y,Ee,w).pipe(A(E)).subscribe(()=>{Ve.delete(t),i.run(()=>{m(),_.next(),_.complete()})})}),_.asObservable()};var _s=(()=>{let i=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,t=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(i()||t()):!1})();var Rn=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function kt(i){let t=Array.from(i.querySelectorAll(Rn)).filter(e=>e.tabIndex!==-1);return[t[0],t[t.length-1]]}var Fn=(i,t,e,n=!1)=>{i.runOutsideAngular(()=>{let o=K(t,"focusin").pipe(A(e),qe(a=>a.target));K(t,"keydown").pipe(A(e),Te(a=>a.key==="Tab"),Qe(o)).subscribe(([a,m])=>{let[_,w]=kt(t);(m===_||m===t)&&a.shiftKey&&(w.focus(),a.preventDefault()),m===w&&!a.shiftKey&&(_.focus(),a.preventDefault())}),n&&K(t,"click").pipe(A(e),Qe(o),qe(a=>a[1])).subscribe(a=>a.focus())})};var fs=new Date(1882,10,12),gs=new Date(2174,10,25);var bs=1e3*60*60*24;var rt=1080,In=24*rt,Nn=12*rt+793,ys=29*In+Nn,vs=11*rt+204;var An=(()=>{let t=class t{constructor(){this._ngbConfig=O(Dn),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(n){this._animation=n}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})(),Se=class{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}};var Hn=(()=>{let t=class t{constructor(){this._document=O(Fe)}hide(){let n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),o=this._document.body,a=o.style,{overflow:m,paddingRight:_}=a;if(n>0){let w=parseFloat(window.getComputedStyle(o).paddingRight);a.paddingRight=`${w+n}px`}return a.overflow="hidden",()=>{n>0&&(a.paddingRight=_),a.overflow=m}}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})(),Bn=(()=>{let t=class t{constructor(){this._nativeElement=O(Ze).nativeElement,this._zone=O(Oe),this._injector=O(fe)}ngOnInit(){et(()=>he(this._zone,this._nativeElement,(n,o)=>{o&&Ot(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"}),{injector:this._injector,phase:Xe.MixedReadWrite})}hide(){return he(this._zone,this._nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=T({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(o,a){o&2&&(Pe("modal-backdrop"+(a.backdropClass?" "+a.backdropClass:"")),tt("show",!a.animation)("fade",a.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[D],decls:0,vars:0,template:function(o,a){},encapsulation:2});let i=t;return i})(),Le=class{update(t){}close(t){}dismiss(t){}},Vn=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Ln=["animation","backdropClass"],ot=class{_applyWindowOptions(t,e){Vn.forEach(n=>{it(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){Ln.forEach(n=>{it(e[n])&&(t[n]=e[n])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(A(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(A(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,e,n,o){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=o,this._closed=new W,this._dismissed=new W,this._hidden=new W,t.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,m)=>{this._resolve=a,this._reject=m}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(t);else{let e=this._beforeDismiss();Mn(e)?e.then(n=>{n!==!1&&this._dismiss(t)},()=>{}):e!==!1&&this._dismiss(t)}}_removeModalElements(){let t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Ue(void 0);t.subscribe(()=>{let{nativeElement:n}=this._windowCmptRef.location;n.parentNode.removeChild(n),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:n}=this._backdropCmptRef.location;n.parentNode.removeChild(n),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Me(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},st=function(i){return i[i.BACKDROP_CLICK=0]="BACKDROP_CLICK",i[i.ESC=1]="ESC",i}(st||{}),Gn=(()=>{let t=class t{constructor(){this._document=O(Fe),this._elRef=O(Ze),this._zone=O(Oe),this._injector=O(fe),this._closed$=new W,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Ke,this.shown=new W,this.hidden=new W}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":Mt(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,et(()=>this._show(),{injector:this._injector,phase:Xe.MixedReadWrite})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:n}=this._elRef,o={animation:this.animation,runningTransition:"stop"},a=he(this._zone,n,()=>n.classList.remove("show"),o),m=he(this._zone,this._dialogEl.nativeElement,()=>{},o),_=Me(a,m);return _.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),_}_show(){let n={animation:this.animation,runningTransition:"continue"},o=he(this._zone,this._elRef.nativeElement,(m,_)=>{_&&Ot(m),m.classList.add("show")},n),a=he(this._zone,this._dialogEl.nativeElement,()=>{},n);Me(o,a).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{K(n,"keydown").pipe(A(this._closed$),Te(a=>a.key==="Escape")).subscribe(a=>{this.keyboard?requestAnimationFrame(()=>{a.defaultPrevented||this._zone.run(()=>this.dismiss(st.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let o=!1;K(this._dialogEl.nativeElement,"mousedown").pipe(A(this._closed$),ht(()=>o=!1),mt(()=>K(n,"mouseup").pipe(A(this._closed$),Je(1))),Te(({target:a})=>n===a)).subscribe(()=>{o=!0}),K(n,"click").pipe(A(this._closed$)).subscribe(({target:a})=>{n===a&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!o&&this._zone.run(()=>this.dismiss(st.BACKDROP_CLICK))),o=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){let o=n.querySelector("[ngbAutofocus]"),a=kt(n)[0];(o||a||n).focus()}}_restoreFocus(){let n=this._document.body,o=this._elWithFocus,a;o&&o.focus&&n.contains(o)?a=o:a=n,this._zone.runOutsideAngular(()=>{setTimeout(()=>a.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&he(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=T({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(o,a){if(o&1&&yt(Tn,7),o&2){let m;vt(m=Ct())&&(a._dialogEl=m.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(o,a){o&2&&(V("aria-modal",!0)("aria-labelledby",a.ariaLabelledBy)("aria-describedby",a.ariaDescribedBy),Pe("modal d-block"+(a.windowClass?" "+a.windowClass:"")),tt("fade",a.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[D],ngContentSelectors:En,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(o,a){o&1&&(gt(),r(0,"div",1,0)(2,"div",2),bt(3),s()()),o&2&&Pe("modal-dialog"+(a.size?" modal-"+a.size:"")+(a.centered?" modal-dialog-centered":"")+a.fullscreenClass+(a.scrollable?" modal-dialog-scrollable":"")+(a.modalDialogClass?" "+a.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2});let i=t;return i})(),$n=(()=>{let t=class t{constructor(){this._applicationRef=O(wt),this._injector=O(fe),this._environmentInjector=O(Ye),this._document=O(Fe),this._scrollBar=O(Hn),this._activeWindowCmptHasChanged=new W,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Ke;let n=O(Oe);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let o=this._windowCmpts[this._windowCmpts.length-1];Fn(n,o.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(o.location.nativeElement)}})}_restoreScrollBar(){let n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,o,a){let m=a.container instanceof HTMLElement?a.container:it(a.container)?this._document.querySelector(a.container):this._document.body;if(!m)throw new Error(`The specified modal container "${a.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let _=new Le;n=a.injector||n;let w=n.get(Ye,null)||this._environmentInjector,E=this._getContentRef(n,w,o,_,a),I=a.backdrop!==!1?this._attachBackdrop(m):void 0,Ee=this._attachWindowComponent(m,E.nodes),Y=new ot(Ee,E,I,a.beforeDismiss);return this._registerModalRef(Y),this._registerWindowCmpt(Ee),Y.hidden.pipe(Je(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),_.close=me=>{Y.close(me)},_.dismiss=me=>{Y.dismiss(me)},_.update=me=>{Y.update(me)},Y.update(a),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),I&&I.instance&&I.changeDetectorRef.detectChanges(),Ee.changeDetectorRef.detectChanges(),Y}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(o=>o.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let o=Re(Bn,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(o.hostView),n.appendChild(o.location.nativeElement),o}_attachWindowComponent(n,o){let a=Re(Gn,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:o});return this._applicationRef.attachView(a.hostView),n.appendChild(a.location.nativeElement),a}_getContentRef(n,o,a,m,_){return a?a instanceof ft?this._createFromTemplateRef(a,m):Mt(a)?this._createFromString(a):this._createFromComponent(n,o,a,m,_):new Se([])}_createFromTemplateRef(n,o){let a={$implicit:o,close(_){o.close(_)},dismiss(_){o.dismiss(_)}},m=n.createEmbeddedView(a);return this._applicationRef.attachView(m),new Se([m.rootNodes],m)}_createFromString(n){let o=this._document.createTextNode(`${n}`);return new Se([[o]])}_createFromComponent(n,o,a,m,_){let w=fe.create({providers:[{provide:Le,useValue:m}],parent:n}),E=Re(a,{environmentInjector:o,elementInjector:w}),I=E.location.nativeElement;return _.scrollable&&I.classList.add("component-host-scrollable"),this._applicationRef.attachView(E.hostView),new Se([[I]],E.hostView,E)}_setAriaHidden(n){let o=n.parentElement;o&&n!==this._document.body&&(Array.from(o.children).forEach(a=>{a!==n&&a.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}),this._setAriaHidden(o))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,o)=>{n?o.setAttribute("aria-hidden",n):o.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){let o=()=>{let a=this._modalRefs.indexOf(n);a>-1&&(this._modalRefs.splice(a,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(o,o)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{let o=this._windowCmpts.indexOf(n);o>-1&&(this._windowCmpts.splice(o,1),this._activeWindowCmptHasChanged.next())})}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})(),pe=(()=>{let t=class t{constructor(){this._injector=O(fe),this._modalStack=O($n),this._config=O(An)}open(n,o={}){let a=F(B(F({},this._config),{animation:this._config.animation}),o);return this._modalStack.open(this._injector,n,a)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();var Cs=new _t("live announcer delay",{providedIn:"root",factory:()=>100});function jn(i,t){i&1&&(r(0,"span",27),l(1,"Stock Symbol is required."),s())}function Wn(i,t){i&1&&(r(0,"span",27),l(1,"Company is required."),s())}function zn(i,t){i&1&&(r(0,"span",27),l(1,"Purchase Price is required."),s())}function Un(i,t){i&1&&(r(0,"span",27),l(1,"Current Price is required."),s())}function qn(i,t){i&1&&(r(0,"span",27),l(1,"Quantity is required."),s())}function Jn(i,t){i&1&&(r(0,"span",27),l(1,"Total Value is required."),s())}function Qn(i,t){if(i&1){let e=v();r(0,"button",28),f("click",function(){b(e);let o=u(),a=R(50);return y(o.openModal(a,"submit"))}),l(1,"Submit"),s()}}function Yn(i,t){if(i&1){let e=v();r(0,"button",28),f("click",function(){b(e);let o=u(),a=R(50);return y(o.openModal(a,"edit"))}),l(1,"Edit"),s()}}function Kn(i,t){if(i&1){let e=v();r(0,"button",29),f("click",function(){b(e);let o=u(),a=R(50);return y(o.openModal(a,"delete"))}),l(1,"Delete"),s()}}function Zn(i,t){if(i&1){let e=v();r(0,"button",37),f("click",function(){b(e);let o=u(2);return y(o.onSubmit("submit"))}),l(1,"Submit"),s()}}function Xn(i,t){if(i&1){let e=v();r(0,"button",38),f("click",function(){b(e);let o=u(2);return y(o.onSubmit("edit"))}),l(1,"Edit"),s()}}function ei(i,t){if(i&1){let e=v();r(0,"button",39),f("click",function(){b(e);let o=u(2);return y(o.onSubmit("delete"))}),l(1,"Delete"),s()}}function ti(i,t){if(i&1){let e=v();r(0,"div",30)(1,"div",31)(2,"span"),l(3),s()(),r(4,"div",32),p(5,Zn,2,0,"button",33)(6,Xn,2,0,"button",34)(7,ei,2,0,"button",35),r(8,"button",36),f("click",function(){b(e);let o=u();return y(o.close())}),l(9,"Close"),s()()()}if(i&2){let e=u();c(3),S(e.modalText),c(2),d("ngIf",e.currentText=="submit"),c(),d("ngIf",e.currentText=="edit"),c(),d("ngIf",e.currentText=="delete")}}var we=class i{constructor(t,e,n,o,a){this.fb=t;this.http=e;this.router=n;this.modal=o;this.platformId=a}showModal=!1;stockForm;dataForEdit;orderId;forEdit=!1;platformId;modalText="";currentText;ngOnInit(){if(this.buildForm(),H(this.platformId)){let t=sessionStorage.getItem("Data_for_Edit");t&&(this.forEdit=!0,this.dataForEdit=JSON.parse(t),this.orderId=this.dataForEdit.orderId,this.stockForm.patchValue({symbol:this.dataForEdit.symbol,company:this.dataForEdit.company,purchasePrice:this.dataForEdit.purchasePrice,quantity:this.dataForEdit.quantity,totalValue:this.dataForEdit.totalValue,currentPrice:this.dataForEdit.currentPrice}))}}buildForm(){this.stockForm=this.fb.group({symbol:["",C.required],company:["",C.required],quantity:["",[C.required,C.min(0)]],purchasePrice:["",[C.required,C.min(0)]],currentPrice:["",[C.required,C.min(0)]],totalValue:[{value:"",disabled:!0}]}),this.stockForm.get("quantity")?.valueChanges.subscribe(()=>this.updateTotalValue()),this.stockForm.get("currentPrice")?.valueChanges.subscribe(()=>this.updateTotalValue())}updateTotalValue(){let t=this.stockForm.get("quantity")?.value||0,e=this.stockForm.get("currentPrice")?.value||0,n=t*e;this.stockForm.get("totalValue")?.setValue(n,{emitEvent:!1})}onSubmit(t){if(this.stockForm.markAllAsTouched(),this.stockForm.valid){let e=this.stockForm.value;if(this.forEdit&&this.orderId&&t=="edit"){let n=B(F({},e),{totalValue:this.stockForm.get("totalValue")?.value||0,orderId:this.orderId});this.http.post("https://wealtsphere.onrender.com/api/portfolio/updateStock",n).subscribe(o=>{o&&this.router.navigate(["/add-investment/stocks"])},o=>{console.error("Error updating stock:",o)})}if(this.forEdit&&this.orderId&&t=="delete"){let n={orderId:this.orderId};this.http.post("https://wealtsphere.onrender.com/api/portfolio/deleteStock",n).subscribe(o=>{o&&this.router.navigate(["/add-investment/stocks"])})}else if(!this.forEdit){let n=B(F({},e),{totalValue:this.stockForm.get("totalValue")?.value||0});this.http.post("https://wealtsphere.onrender.com/api/portfolio/putstock",n).subscribe(o=>{o&&this.router.navigate(["/add-investment/stocks"])},o=>{console.error("Error adding stock:",o)})}this.modal.dismissAll()}}openModal(t,e){this.currentText=e,e=="submit"&&(this.modalText="Are you sure you want to Submit ?"),e=="edit"&&(this.modalText="Are you sure you want to Edit?"),e=="delete"&&(this.modalText="Are you sure you want to Delete?"),this.modal.open(t,{size:"md",centered:!0})}close(){this.modal.dismissAll()}ngOnDestroy(){H(this.platformId)&&sessionStorage.getItem("Data_for_Edit")&&sessionStorage.removeItem("Data_for_Edit")}static \u0275fac=function(e){return new(e||i)(g(de),g(M),g(P),g(pe),g(Z))};static \u0275cmp=T({type:i,selectors:[["app-add-stock"]],standalone:!0,features:[D],decls:51,vars:10,consts:[["myModal",""],[1,"cardBoxShadow1","mt-2"],[1,"background"],[1,"triangle"],[1,"triangle1"],[1,"form-container"],[3,"formGroup"],[1,"form-group"],["for","symbol"],["id","symbol","formControlName","symbol","type","text"],["class","error",4,"ngIf"],["for","company"],["id","company","formControlName","company","type","text"],["for","purchasePrice"],[1,"d-flex","flex-row"],[1,"symbolBox"],["id","purchasePrice","formControlName","purchasePrice","type","number"],["for","currentPrice"],["id","currentPrice","formControlName","currentPrice","type","number"],["for","quantity"],["id","quantity","formControlName","quantity","type","number"],["for","totalValue"],["id","totalValue","formControlName","totalValue","type","number"],["type","submit","class","edit",3,"click",4,"ngIf"],["type","submit","class","delete",3,"click",4,"ngIf"],[1,"triangle2"],[1,"triangle3"],[1,"error"],["type","submit",1,"edit",3,"click"],["type","submit",1,"delete",3,"click"],[1,"modal-header-pop"],[1,"heading","my-modal"],[1,"modal-body","d-flex","justify-content-evenly","mt-3"],["class","btn btn-success",3,"click",4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-red",3,"click",4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-red",3,"click"]],template:function(e,n){if(e&1&&(r(0,"div",1)(1,"span"),l(2,"Add/Edit Stock"),s()(),r(3,"div",2),h(4,"div",3)(5,"div",4),r(6,"div",5)(7,"form",6)(8,"div",7)(9,"label",8),l(10,"Stock Symbol"),s(),h(11,"input",9),p(12,jn,2,0,"span",10),s(),r(13,"div",7)(14,"label",11),l(15,"Company Name"),s(),h(16,"input",12),p(17,Wn,2,0,"span",10),s(),r(18,"div",7)(19,"label",13),l(20,"Purchase Price"),s(),r(21,"div",14)(22,"span",15),l(23,"\u20B9"),s(),h(24,"input",16),s(),p(25,zn,2,0,"span",10),s(),r(26,"div",7)(27,"label",17),l(28,"Current Price"),s(),r(29,"div",14)(30,"span",15),l(31,"\u20B9"),s(),h(32,"input",18),s(),p(33,Un,2,0,"span",10),s(),r(34,"div",7)(35,"label",19),l(36,"Quantity"),s(),h(37,"input",20),p(38,qn,2,0,"span",10),s(),r(39,"div",7)(40,"label",21),l(41,"Total Value"),s(),h(42,"input",22),p(43,Jn,2,0,"span",10),s(),p(44,Qn,2,0,"button",23)(45,Yn,2,0,"button",23)(46,Kn,2,0,"button",24),s()(),h(47,"div",25)(48,"div",26),s(),p(49,ti,10,4,"ng-template",null,0,X)),e&2){let o,a,m,_,w,E;c(7),d("formGroup",n.stockForm),c(5),d("ngIf",((o=n.stockForm.get("symbol"))==null?null:o.invalid)&&((o=n.stockForm.get("symbol"))==null?null:o.touched)),c(5),d("ngIf",((a=n.stockForm.get("company"))==null?null:a.invalid)&&((a=n.stockForm.get("company"))==null?null:a.touched)),c(8),d("ngIf",((m=n.stockForm.get("purchasePrice"))==null?null:m.invalid)&&((m=n.stockForm.get("purchasePrice"))==null?null:m.touched)),c(8),d("ngIf",((_=n.stockForm.get("currentPrice"))==null?null:_.invalid)&&((_=n.stockForm.get("currentPrice"))==null?null:_.touched)),c(5),d("ngIf",((w=n.stockForm.get("quantity"))==null?null:w.invalid)&&((w=n.stockForm.get("quantity"))==null?null:w.touched)),c(5),d("ngIf",((E=n.stockForm.get("totalValue"))==null?null:E.invalid)&&((E=n.stockForm.get("totalValue"))==null?null:E.touched)),c(),d("ngIf",!n.forEdit),c(),d("ngIf",n.forEdit),c(),d("ngIf",n.forEdit)}},dependencies:[U,re,ie,ae,oe,se,le,ce,x,k],styles:['.background[_ngcontent-%COMP%]{background-image:url("./media/dale-OL2ZX3N3.webp");background-size:33%;background-repeat:no-repeat;background-position:center center;width:100%;height:100%;display:flex;justify-content:center;align-items:center;position:relative;text-align:center;margin-top:5em}.form-container[_ngcontent-%COMP%]{max-width:61em;width:100%;padding:20px;border:1px solid #ddd;border-radius:8px;background-color:#ffffffe6;box-shadow:0 4px 10px #0000001a;position:relative;display:flex;justify-content:center;align-items:center}.form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.form-group[_ngcontent-%COMP%]{flex:1 1 45%;margin-right:20px;margin-bottom:16px}.form-group[_ngcontent-%COMP%]:nth-of-type(2n){margin-right:0}.form-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:8px;font-weight:700;display:block}.form-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:8px;border:1px solid #ddd;border-radius:4px}.form-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#00786c;outline:none}.submit[_ngcontent-%COMP%], .edit[_ngcontent-%COMP%], .delete[_ngcontent-%COMP%]{background-color:#00786c;color:#fff;border:none;padding:12px;border-radius:4px;cursor:pointer;font-size:16px;transition:background-color .3s ease;margin-top:16px;display:block;width:200px;margin-left:auto;margin-right:auto}.delete[_ngcontent-%COMP%]{background-color:#db5a5a}.submit[_ngcontent-%COMP%]:hover, .edit[_ngcontent-%COMP%]:hover{background-color:#005b47}.delete[_ngcontent-%COMP%]:hover{background-color:red}@media (max-width: 768px){.form-group[_ngcontent-%COMP%]{flex:1 1 100%;margin-right:0}}.cardBoxShadow1[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0003;border-radius:8px;padding:20px;margin-bottom:20px;background-color:#fff}.cardBoxShadow1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#00786c}.triangle[_ngcontent-%COMP%]{width:0;height:0;border-left:60px solid transparent;border-right:60px solid transparent;border-bottom:104.08px solid #FF8A9E;position:absolute;top:2em;left:10em;animation:_ngcontent-%COMP%_rotate 4s linear infinite;transform-origin:center}.triangle1[_ngcontent-%COMP%]{width:0;height:0;border-left:60px solid transparent;border-right:60px solid transparent;border-bottom:104.08px solid #6FB9E7;position:absolute;top:2em;left:10.5em;animation:_ngcontent-%COMP%_rotate1 4s linear infinite;transform-origin:center}.triangle3[_ngcontent-%COMP%]{width:0;height:0;border-left:60px solid transparent;border-right:60px solid transparent;border-bottom:104.08px solid #77D9D9;position:absolute;bottom:2em;right:10em;z-index:-5;animation:_ngcontent-%COMP%_rotate 4s linear infinite;transform-origin:center}.triangle2[_ngcontent-%COMP%]{width:0;height:0;border-left:60px solid transparent;border-right:60px solid transparent;border-bottom:104.08px solid #f3c089;position:absolute;bottom:2em;right:10em;z-index:-5;animation:_ngcontent-%COMP%_rotate1 4s linear infinite;transform-origin:center}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_rotate1{0%{transform:rotate(360deg)}to{transform:rotate(0)}}.my-modal[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin:auto;display:flex;justify-content:center}.btn-red[_ngcontent-%COMP%]{color:#fff;background-color:red}.error[_ngcontent-%COMP%]{color:red}.symbolBox[_ngcontent-%COMP%]{background-color:#00786c;width:1.5em;border-top-left-radius:5px;border-bottom-left-radius:5px;color:#fff;font-size:28px;height:1.6em}']})};function ni(i,t){i&1&&(r(0,"span",9),l(1," Bank Name is required. "),s())}function ii(i,t){i&1&&(r(0,"span",9),l(1," Deposit Amount is required. "),s())}function oi(i,t){i&1&&(r(0,"span",9),l(1," Beginning Date is required. "),s())}function si(i,t){i&1&&(r(0,"span",9),l(1," Maturity Date is required. "),s())}function ri(i,t){i&1&&(r(0,"span",9),l(1," Interest Rate is required. "),s())}function ai(i,t){i&1&&(r(0,"span",9),l(1," Tenure is required. "),s())}function li(i,t){i&1&&(r(0,"span",9),l(1," Maturity Amount is required. "),s())}function ci(i,t){if(i&1){let e=v();r(0,"button",28),f("click",function(){b(e);let o=u(),a=R(70);return y(o.openModal(a,"submit"))}),l(1,"Submit"),s()}}function di(i,t){if(i&1){let e=v();r(0,"button",29),f("click",function(){b(e);let o=u(),a=R(70);return y(o.openModal(a,"edit"))}),l(1,"Edit"),s()}}function ui(i,t){if(i&1){let e=v();r(0,"button",30),f("click",function(){b(e);let o=u(),a=R(70);return y(o.openModal(a,"delete"))}),l(1,"Delete"),s()}}function pi(i,t){if(i&1){let e=v();r(0,"button",38),f("click",function(){b(e);let o=u(2);return y(o.onSubmit("submit"))}),l(1,"Submit"),s()}}function mi(i,t){if(i&1){let e=v();r(0,"button",39),f("click",function(){b(e);let o=u(2);return y(o.onSubmit("edit"))}),l(1,"Edit"),s()}}function hi(i,t){if(i&1){let e=v();r(0,"button",40),f("click",function(){b(e);let o=u(2);return y(o.onSubmit("delete"))}),l(1,"Delete"),s()}}function _i(i,t){if(i&1){let e=v();r(0,"div",31)(1,"div",32)(2,"span"),l(3),s()(),r(4,"div",33),p(5,pi,2,0,"button",34)(6,mi,2,0,"button",35)(7,hi,2,0,"button",36),r(8,"button",37),f("click",function(){b(e);let o=u();return y(o.close())}),l(9,"Close"),s()()()}if(i&2){let e=u();c(3),S(e.modalText),c(2),d("ngIf",e.currentText=="submit"),c(),d("ngIf",e.currentText=="edit"),c(),d("ngIf",e.currentText=="delete")}}var $e=class i{constructor(t,e,n,o,a){this.fb=t;this.http=e;this.router=n;this.modal=o;this.platformId=a}stockForm;dataForEdit;orderId;forEdit=!1;platformId;modalText="";currentText;ngOnInit(){if(this.buildForm(),H(this.platformId)){let t=sessionStorage.getItem("Data_for_Edit");t&&(this.forEdit=!0,this.dataForEdit=JSON.parse(t),this.orderId=this.dataForEdit.orderId,this.stockForm.patchValue({bankName:this.dataForEdit?.bank,depositAmount:parseFloat(this.dataForEdit?.amount.replace(/,/g,"")),interestRate:this.dataForEdit?.interest_rate,tenure:this.dataForEdit?.tenure,maturityDate:this.dataForEdit?.maturity_date,beginningDate:this.dataForEdit?.beginningDate,expectedReturn:this.dataForEdit?.expected_return}),console.log(new Date(this.dataForEdit?.maturity_date)))}this.stockForm.valueChanges.subscribe(()=>{this.updateMaturityAmount()})}buildForm(){this.stockForm=this.fb.group({depositAmount:["",C.required],interestRate:["",[C.required,C.min(0)]],maturityDate:["",[C.required]],beginningDate:["",[C.required]],bankName:["",[C.required]],tenure:[{value:"",disabled:!0},C.required],expectedReturn:[{value:"",disabled:!0},C.required]})}calculateMaturityAmount(t,e,n){let a=e/100,m=n/365,_=t*Math.pow(1+a/4,4*m);return Math.round(_)}updateMaturityAmount(){let t=this.stockForm.value,e=t.depositAmount,n=t.interestRate,o=t.beginningDate,a=t.maturityDate;if(!isNaN(e)&&!isNaN(n)&&o&&a){let m=this.calculateTenureInDays(o,a);this.stockForm.patchValue({tenure:m},{emitEvent:!1});let _=this.calculateMaturityAmount(e,n,m);this.stockForm.patchValue({expectedReturn:_},{emitEvent:!1})}}calculateTenureInDays(t,e){let n=new Date(t);return(new Date(e).getTime()-n.getTime())/(1e3*3600*24)}onSubmit(t){if(this.stockForm.markAllAsTouched(),this.stockForm.valid){let e=this.stockForm.getRawValue();if(this.forEdit&&this.orderId&&t==="edit"){let n=B(F({},e),{orderId:this.orderId});this.http.post("https://wealtsphere.onrender.com/api/portfolio/updatefd",n).subscribe(o=>{o&&this.router.navigate(["/add-investment/fd"])},o=>{console.error("Error updating FD:",o)})}else if(this.forEdit&&this.orderId&&t==="delete"){let n={orderId:this.orderId};this.http.post("https://wealtsphere.onrender.com/api/portfolio/deletefd",n).subscribe(o=>{o&&this.router.navigate(["/add-investment/fd"])})}else if(!this.forEdit){let n=F({},e);this.http.post("https://wealtsphere.onrender.com/api/portfolio/addfd",n).subscribe(o=>{o&&this.router.navigate(["/add-investment/fd"])},o=>{console.error("Error adding FD:",o)})}}this.modal.dismissAll()}ngOnDestroy(){H(this.platformId)&&sessionStorage.getItem("Data_for_Edit")&&sessionStorage.removeItem("Data_for_Edit")}openModal(t,e){this.currentText=e,e=="submit"&&(this.modalText="Are you sure you want to Submit ?"),e=="edit"&&(this.modalText="Are you sure you want to Edit?"),e=="delete"&&(this.modalText="Are you sure you want to Delete?"),this.modal.open(t,{size:"md",centered:!0})}close(){this.modal.dismissAll()}static \u0275fac=function(e){return new(e||i)(g(de),g(M),g(P),g(pe),g(Z))};static \u0275cmp=T({type:i,selectors:[["app-add-fd"]],standalone:!0,features:[D],decls:71,vars:11,consts:[["myModal",""],[1,"cardBoxShadow1","mt-2"],[1,"background"],[1,"triangle"],[1,"triangle1"],[1,"form-container"],[3,"formGroup"],[1,"form-group"],["for","symbol"],[1,"error"],["id","symbol","formControlName","bankName","type","text"],["class","error",4,"ngIf"],[1,"d-flex","flex-row"],[1,"symbolBox"],["id","symbol","formControlName","depositAmount","type","number"],["for","quantity"],["id","quantity","formControlName","beginningDate","type","date"],["id","quantity","formControlName","maturityDate","type","date"],["for","company"],["id","company","formControlName","interestRate","type","number"],["id","quantity","formControlName","tenure","type","text"],[1,"form-group1"],["id","quantity","formControlName","expectedReturn","type","text"],["type","submit","class","submit",3,"click",4,"ngIf"],["type","submit","class","edit",3,"click",4,"ngIf"],["type","submit","class","delete",3,"click",4,"ngIf"],[1,"triangle2"],[1,"triangle3"],["type","submit",1,"submit",3,"click"],["type","submit",1,"edit",3,"click"],["type","submit",1,"delete",3,"click"],[1,"modal-header-pop"],[1,"heading","my-modal"],[1,"modal-body","d-flex","justify-content-evenly","mt-3"],["class","btn btn-success",3,"click",4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-red",3,"click",4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-red",3,"click"]],template:function(e,n){if(e&1&&(r(0,"div",1)(1,"span"),l(2,"Add/Edit Fixed Deposit"),s()(),r(3,"div",2),h(4,"div",3)(5,"div",4),r(6,"div",5)(7,"form",6)(8,"div",7)(9,"label",8),l(10,"Bank "),r(11,"span",9),l(12,"*"),s()(),h(13,"input",10),p(14,ni,2,0,"span",11),s(),r(15,"div",7)(16,"label",8),l(17,"Deposit Amount"),r(18,"span",9),l(19,"*"),s()(),r(20,"div",12)(21,"span",13),l(22,"\u20B9"),s(),h(23,"input",14),s(),p(24,ii,2,0,"span",11),s(),r(25,"div",7)(26,"label",15),l(27,"Beginning Date"),r(28,"span",9),l(29,"*"),s()(),h(30,"input",16),p(31,oi,2,0,"span",11),s(),r(32,"div",7)(33,"label",15),l(34,"Maturity Date"),r(35,"span",9),l(36,"*"),s()(),h(37,"input",17),p(38,si,2,0,"span",11),s(),r(39,"div",7)(40,"label",18),l(41,"Interest Rate"),r(42,"span",9),l(43,"*"),s()(),r(44,"div",12)(45,"span",13),l(46,"%"),s(),h(47,"input",19),s(),p(48,ri,2,0,"span",11),s(),r(49,"div",7)(50,"label",15),l(51,"Tenure(in Days)"),r(52,"span",9),l(53,"*"),s()(),h(54,"input",20),s(),p(55,ai,2,0,"span",11),r(56,"div",21)(57,"label",15),l(58,"Maturity Amount"),s(),r(59,"div",12)(60,"span",13),l(61,"\u20B9"),s(),h(62,"input",22),s(),p(63,li,2,0,"span",11),s(),p(64,ci,2,0,"button",23)(65,di,2,0,"button",24)(66,ui,2,0,"button",25),s()(),h(67,"div",26)(68,"div",27),s(),p(69,_i,10,4,"ng-template",null,0,X)),e&2){let o,a,m,_,w,E,I;c(7),d("formGroup",n.stockForm),c(7),d("ngIf",((o=n.stockForm.get("bankName"))==null?null:o.invalid)&&((o=n.stockForm.get("bankName"))==null?null:o.touched)),c(10),d("ngIf",((a=n.stockForm.get("depositAmount"))==null?null:a.invalid)&&((a=n.stockForm.get("depositAmount"))==null?null:a.touched)),c(7),d("ngIf",((m=n.stockForm.get("beginningDate"))==null?null:m.invalid)&&((m=n.stockForm.get("beginningDate"))==null?null:m.touched)),c(7),d("ngIf",((_=n.stockForm.get("maturityDate"))==null?null:_.invalid)&&((_=n.stockForm.get("maturityDate"))==null?null:_.touched)),c(10),d("ngIf",((w=n.stockForm.get("interestRate"))==null?null:w.invalid)&&((w=n.stockForm.get("interestRate"))==null?null:w.touched)),c(7),d("ngIf",((E=n.stockForm.get("tenure"))==null?null:E.invalid)&&((E=n.stockForm.get("tenure"))==null?null:E.touched)),c(8),d("ngIf",((I=n.stockForm.get("expectedReturn"))==null?null:I.invalid)&&((I=n.stockForm.get("expectedReturn"))==null?null:I.touched)),c(),d("ngIf",!n.forEdit),c(),d("ngIf",n.forEdit),c(),d("ngIf",n.forEdit)}},dependencies:[U,re,ie,ae,oe,se,le,ce,x,k],styles:['.background[_ngcontent-%COMP%]{background-image:url("./media/girl_image-VPFQJYYI.jpg");background-size:33%;background-repeat:no-repeat;background-position:center center;width:100%;height:100%;display:flex;justify-content:center;align-items:center;position:relative;text-align:center;margin-top:5em}.form-container[_ngcontent-%COMP%]{max-width:61em;width:100%;padding:20px;border:1px solid #ddd;border-radius:8px;background-color:#ffffffe6;box-shadow:0 4px 10px #0000001a;position:relative;display:flex;justify-content:center;align-items:center}.form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.form-group[_ngcontent-%COMP%]{flex:1 1 45%;margin-right:20px;margin-bottom:16px}.form-group1[_ngcontent-%COMP%]{flex:1 1 90%;margin-right:20px;margin-bottom:16px}.form-group[_ngcontent-%COMP%]:nth-of-type(2n){margin-right:0}.form-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:8px;font-weight:700;display:block}.form-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:8px;border:1px solid #ddd;border-radius:4px}.form-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#00786c;outline:none}.submit[_ngcontent-%COMP%], .edit[_ngcontent-%COMP%], .delete[_ngcontent-%COMP%]{background-color:#00786c;color:#fff;border:none;padding:12px;border-radius:4px;cursor:pointer;font-size:16px;transition:background-color .3s ease;margin-top:16px;display:block;width:200px;margin-left:auto;margin-right:auto}.delete[_ngcontent-%COMP%]{background-color:#db5a5a}.submit[_ngcontent-%COMP%]:hover, .edit[_ngcontent-%COMP%]:hover{background-color:#005b47}.delete[_ngcontent-%COMP%]:hover{background-color:red}@media (max-width: 768px){.form-group[_ngcontent-%COMP%]{flex:1 1 100%;margin-right:0}}.cardBoxShadow1[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0003;border-radius:8px;padding:20px;margin-bottom:20px;background-color:#fff}.cardBoxShadow1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#00786c}.triangle[_ngcontent-%COMP%]{width:0;height:0;border-left:60px solid transparent;border-right:60px solid transparent;border-bottom:104.08px solid #FF8A9E;position:absolute;top:2em;left:10em;animation:_ngcontent-%COMP%_rotate 4s linear infinite;transform-origin:center}.triangle1[_ngcontent-%COMP%]{width:0;height:0;border-left:60px solid transparent;border-right:60px solid transparent;border-bottom:104.08px solid #6FB9E7;position:absolute;top:2em;left:10.5em;animation:_ngcontent-%COMP%_rotate1 4s linear infinite;transform-origin:center}.triangle3[_ngcontent-%COMP%]{width:0;height:0;border-left:60px solid transparent;border-right:60px solid transparent;border-bottom:104.08px solid #77D9D9;position:absolute;bottom:2em;right:10em;z-index:-5;animation:_ngcontent-%COMP%_rotate 4s linear infinite;transform-origin:center}.triangle2[_ngcontent-%COMP%]{width:0;height:0;border-left:60px solid transparent;border-right:60px solid transparent;border-bottom:104.08px solid #f3c089;position:absolute;bottom:2em;right:10em;z-index:-5;animation:_ngcontent-%COMP%_rotate1 4s linear infinite;transform-origin:center}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_rotate1{0%{transform:rotate(360deg)}to{transform:rotate(0)}}.my-modal[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin:auto;display:flex;justify-content:center}.btn-red[_ngcontent-%COMP%]{color:#fff;background-color:red}.error[_ngcontent-%COMP%]{color:red}.symbolBox[_ngcontent-%COMP%]{background-color:#00786c;width:1.5em;border-top-left-radius:5px;border-bottom-left-radius:5px;color:#fff;font-size:28px;height:1.6em}']})};function fi(i,t){i&1&&(r(0,"span",9),l(1,"Source is required."),s())}function gi(i,t){if(i&1&&(r(0,"option",28),l(1),s()),i&2){let e=t.$implicit;d("value",e),c(),z(" ",e," ")}}function bi(i,t){i&1&&(r(0,"span",9),l(1,"Currency is required."),s())}function yi(i,t){i&1&&(r(0,"span",9),l(1,"Amount is required."),s())}function vi(i,t){i&1&&(r(0,"span",9),l(1,"Estimated Amount is required."),s())}function Ci(i,t){if(i&1){let e=v();r(0,"button",29),f("click",function(){b(e);let o=u(),a=R(51);return y(o.openModal(a,"submit"))}),l(1,"Submit"),s()}}function Si(i,t){if(i&1){let e=v();r(0,"button",30),f("click",function(){b(e);let o=u(),a=R(51);return y(o.openModal(a,"edit"))}),l(1,"Edit"),s()}}function wi(i,t){if(i&1){let e=v();r(0,"button",31),f("click",function(){b(e);let o=u(),a=R(51);return y(o.openModal(a,"delete"))}),l(1,"Delete"),s()}}function Ei(i,t){if(i&1){let e=v();r(0,"button",39),f("click",function(){b(e);let o=u(2);return y(o.onSubmit("submit"))}),l(1,"Submit"),s()}}function Ti(i,t){if(i&1){let e=v();r(0,"button",40),f("click",function(){b(e);let o=u(2);return y(o.onSubmit("edit"))}),l(1,"Edit"),s()}}function Di(i,t){if(i&1){let e=v();r(0,"button",41),f("click",function(){b(e);let o=u(2);return y(o.onSubmit("delete"))}),l(1,"Delete"),s()}}function xi(i,t){if(i&1){let e=v();r(0,"div",32)(1,"div",33)(2,"span"),l(3),s()(),r(4,"div",34),p(5,Ei,2,0,"button",35)(6,Ti,2,0,"button",36)(7,Di,2,0,"button",37),r(8,"button",38),f("click",function(){b(e);let o=u();return y(o.close())}),l(9,"Close"),s()()()}if(i&2){let e=u();c(3),S(e.modalText),c(2),d("ngIf",e.currentText=="submit"),c(),d("ngIf",e.currentText=="edit"),c(),d("ngIf",e.currentText=="delete")}}var je=class i{constructor(t,e,n,o,a){this.fb=t;this.http=e;this.router=n;this.modal=o;this.platformId=a}stockForm;dataForEdit;orderId;currencies=["INR","USD","GBP","EUR","CAD"];currencySymbols={INR:"\u20B9",USD:"$",GBP:"\xA3",EUR:"\u20AC",CAD:"C$"};currentCurrencySymbol="";forEdit=!1;platformId;modalText="";currentText;currencyRate;isModalVisible=!1;exchangeRates=[];selectedCurrenci;ngOnInit(){this.buildForm(),this.onEdit()}buildForm(){this.stockForm=this.fb.group({source:["",C.required],amount:["",[C.required,C.min(1)]],currency:["",[C.required]],estimatedAmt:[{value:"",disabled:!0},C.required]})}onEdit(){if(H(this.platformId)){let t=sessionStorage.getItem("Data_for_Edit"),e=sessionStorage.getItem("ExchangeRates");e&&(this.exchangeRates=JSON.parse(e)),t&&(this.forEdit=!0,this.dataForEdit=JSON.parse(t),this.orderId=this.dataForEdit.orderId,this.currencies.includes(this.dataForEdit.currency)&&(this.stockForm.patchValue({source:this.dataForEdit.source,amount:parseFloat(this.dataForEdit?.amount.replace(/,/g,"")),estimatedAmt:parseFloat(this.dataForEdit?.inrAmount.replace(/,/g,"")),currency:this.dataForEdit.currency}),this.currentCurrencySymbol=this.currencySymbols[this.dataForEdit.currency]))}this.stockForm.get("amount")?.valueChanges.subscribe(()=>{this.triggerCalculationIfValid()}),this.stockForm.get("currency")?.valueChanges.subscribe(t=>{this.selectedCurrenci=t,this.currentCurrencySymbol=this.currencySymbols[t]||"",this.triggerCalculationIfValid()})}triggerCalculationIfValid(){let t=this.stockForm.get("amount")?.value,e=this.stockForm.get("currency")?.value;t&&!isNaN(t)&&e&&this.calculateEstimatedValue()}calculateEstimatedValue(){let t=this.stockForm.get("amount")?.value;if(!t||isNaN(t)){console.warn("Amount is invalid or not entered");return}let e=this.exchangeRates.find(n=>n.currency===this.selectedCurrenci);if(e){let n=t*e.actual_price;this.stockForm.patchValue({estimatedAmt:n.toFixed(2)},{emitEvent:!1})}}openModal(t,e){this.currentText=e,e=="submit"&&(this.modalText="Are you sure you want to Submit ?"),e=="edit"&&(this.modalText="Are you sure you want to Edit?"),e=="delete"&&(this.modalText="Are you sure you want to Delete?"),this.modal.open(t,{size:"md",centered:!0})}close(){this.modal.dismissAll()}onSubmit(t){if(this.stockForm.markAllAsTouched(),this.stockForm.valid){let e=this.stockForm.value;if(this.forEdit&&this.orderId&&t=="edit"){let n=B(F({},e),{orderId:this.orderId});this.http.post("https://wealtsphere.onrender.com/api/portfolio/updateCash",n).subscribe(o=>{o&&this.router.navigate(["/add-investment/cash"])},o=>{console.error("Error updating stock:",o)})}if(this.forEdit&&this.orderId&&t=="delete"){let n={orderId:this.orderId};this.http.post("https://wealtsphere.onrender.com/api/portfolio/deleteCash",n).subscribe(o=>{o&&this.router.navigate(["/add-investment/cash"])})}else if(!this.forEdit){let n=F({},e);this.http.post("https://wealtsphere.onrender.com/api/portfolio/putcash",n).subscribe(o=>{this.router.navigate(["/add-investment/cash"])},o=>{console.error("Error adding stock:",o)})}}this.modal.dismissAll()}ngOnDestroy(){H(this.platformId)&&sessionStorage.getItem("Data_for_Edit")&&(sessionStorage.removeItem("Data_for_Edit"),sessionStorage.removeItem("ExchangeRates"))}static \u0275fac=function(e){return new(e||i)(g(de),g(M),g(P),g(pe),g(Z))};static \u0275cmp=T({type:i,selectors:[["app-add-cash"]],standalone:!0,features:[D],decls:52,vars:10,consts:[["myModal",""],[1,"cardBoxShadow1","mt-2"],[1,"background"],[1,"triangle"],[1,"triangle1"],[1,"form-container"],[1,"col-lg-12",3,"formGroup"],[1,"form-group","col-lg-6"],["for","symbol"],[1,"error"],["id","symbol","formControlName","source","type","text"],["class","error",4,"ngIf"],["for","currency"],["formControlName","currency",1,"form-control"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","company"],[1,"d-flex","flex-row"],[1,"symbolBox"],["id","company","formControlName","amount","type","number"],[1,"form-group"],["for","estimatedAmt"],["id","estimatedAmt","formControlName","estimatedAmt","type","number"],["type","submit","class","submit",3,"click",4,"ngIf"],["type","submit","class","edit",3,"click",4,"ngIf"],["type","submit","class","delete",3,"click",4,"ngIf"],[1,"triangle2"],[1,"triangle3"],[3,"value"],["type","submit",1,"submit",3,"click"],["type","submit",1,"edit",3,"click"],["type","submit",1,"delete",3,"click"],[1,"modal-header-pop"],[1,"heading","my-modal"],[1,"modal-body","d-flex","justify-content-evenly","mt-3"],["class","btn btn-success",3,"click",4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-red",3,"click",4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-red",3,"click"]],template:function(e,n){if(e&1&&(r(0,"div",1)(1,"span"),l(2,"Add/Edit Cash"),s()(),r(3,"div",2),h(4,"div",3)(5,"div",4),r(6,"div",5)(7,"form",6)(8,"div",7)(9,"label",8),l(10,"Source "),r(11,"span",9),l(12,"*"),s()(),h(13,"input",10),p(14,fi,2,0,"span",11),s(),r(15,"div",7)(16,"label",12),l(17,"Currency "),r(18,"span",9),l(19,"*"),s()(),r(20,"select",13)(21,"option",14),l(22,"Please Select"),s(),p(23,gi,2,2,"option",15),s(),p(24,bi,2,0,"span",11),s(),r(25,"div",7)(26,"label",16),l(27,"Amount "),r(28,"span",9),l(29,"*"),s()(),r(30,"div",17)(31,"span",18),l(32),s(),h(33,"input",19),s(),p(34,yi,2,0,"span",11),s(),r(35,"div",20)(36,"label",21),l(37,"Estimated Amount "),r(38,"span",9),l(39,"*"),s()(),r(40,"div",17)(41,"span",18),l(42,"\u20B9"),s(),h(43,"input",22),s(),p(44,vi,2,0,"span",11),s(),p(45,Ci,2,0,"button",23)(46,Si,2,0,"button",24)(47,wi,2,0,"button",25),s()(),h(48,"div",26)(49,"div",27),s(),p(50,xi,10,4,"ng-template",null,0,X)),e&2){let o,a,m,_;c(7),d("formGroup",n.stockForm),c(7),d("ngIf",((o=n.stockForm.get("source"))==null?null:o.invalid)&&((o=n.stockForm.get("source"))==null?null:o.touched)),c(9),d("ngForOf",n.currencies),c(),d("ngIf",((a=n.stockForm.get("currency"))==null?null:a.invalid)&&((a=n.stockForm.get("currency"))==null?null:a.touched)),c(8),S(n.currentCurrencySymbol),c(2),d("ngIf",((m=n.stockForm.get("amount"))==null?null:m.invalid)&&((m=n.stockForm.get("amount"))==null?null:m.touched)),c(10),d("ngIf",((_=n.stockForm.get("estimatedAmt"))==null?null:_.invalid)&&((_=n.stockForm.get("estimatedAmt"))==null?null:_.touched)),c(),d("ngIf",!n.forEdit),c(),d("ngIf",n.forEdit),c(),d("ngIf",n.forEdit)}},dependencies:[U,re,Ne,Ae,ie,ae,Ie,oe,se,le,ce,x,L,k],styles:['.background[_ngcontent-%COMP%]{background-image:url("./media/girl_image-VPFQJYYI.jpg");background-size:33%;background-repeat:no-repeat;background-position:center center;width:100%;height:100%;display:flex;justify-content:center;align-items:center;position:relative;text-align:center;margin-top:5em}.form-container[_ngcontent-%COMP%]{max-width:61em;width:100%;padding:20px;border:1px solid #ddd;border-radius:8px;background-color:#ffffffe6;box-shadow:0 4px 10px #0000001a;position:relative;display:flex;justify-content:center;align-items:center}.form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.form-group[_ngcontent-%COMP%]{flex:1 1 45%;margin-right:20px;margin-bottom:16px}.form-group1[_ngcontent-%COMP%]{flex:1 1 90%;margin-right:20px;margin-bottom:16px}.form-group[_ngcontent-%COMP%]:nth-of-type(2n){margin-right:0}.form-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:8px;font-weight:700;display:block}.form-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:8px;border:1px solid #ddd;border-radius:4px}.form-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#00786c;outline:none}.submit[_ngcontent-%COMP%], .edit[_ngcontent-%COMP%], .delete[_ngcontent-%COMP%]{background-color:#00786c;color:#fff;border:none;padding:12px;border-radius:4px;cursor:pointer;font-size:16px;transition:background-color .3s ease;margin-top:16px;display:block;width:200px;margin-left:auto;margin-right:auto}.delete[_ngcontent-%COMP%]{background-color:#db5a5a}.submit[_ngcontent-%COMP%]:hover, .edit[_ngcontent-%COMP%]:hover{background-color:#005b47}.delete[_ngcontent-%COMP%]:hover{background-color:red}@media (max-width: 768px){.form-group[_ngcontent-%COMP%]{flex:1 1 100%;margin-right:0}}.cardBoxShadow1[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0003;border-radius:8px;padding:20px;margin-bottom:20px;background-color:#fff}.cardBoxShadow1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#00786c}.triangle[_ngcontent-%COMP%]{width:0;height:0;border-left:60px solid transparent;border-right:60px solid transparent;border-bottom:104.08px solid #FF8A9E;position:absolute;top:2em;left:10em;animation:_ngcontent-%COMP%_rotate 4s linear infinite;transform-origin:center}.triangle1[_ngcontent-%COMP%]{width:0;height:0;border-left:60px solid transparent;border-right:60px solid transparent;border-bottom:104.08px solid #6FB9E7;position:absolute;top:2em;left:10.5em;animation:_ngcontent-%COMP%_rotate1 4s linear infinite;transform-origin:center}.triangle3[_ngcontent-%COMP%]{width:0;height:0;border-left:60px solid transparent;border-right:60px solid transparent;border-bottom:104.08px solid #77D9D9;position:absolute;bottom:2em;right:10em;z-index:-5;animation:_ngcontent-%COMP%_rotate 4s linear infinite;transform-origin:center}.triangle2[_ngcontent-%COMP%]{width:0;height:0;border-left:60px solid transparent;border-right:60px solid transparent;border-bottom:104.08px solid #f3c089;position:absolute;bottom:2em;right:10em;z-index:-5;animation:_ngcontent-%COMP%_rotate1 4s linear infinite;transform-origin:center}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_rotate1{0%{transform:rotate(360deg)}to{transform:rotate(0)}}.my-modal[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin:auto;display:flex;justify-content:center}.btn-red[_ngcontent-%COMP%]{color:#fff;background-color:red}.error[_ngcontent-%COMP%]{color:red}.symbolBox[_ngcontent-%COMP%]{background-color:#00786c;width:1.5em;border-top-left-radius:5px;border-bottom-left-radius:5px;color:#fff;font-size:28px;height:1.6em}']})};function Mi(i,t){i&1&&(r(0,"span",32),l(1,"Type is required."),s())}function Oi(i,t){i&1&&(r(0,"span",32),l(1,"Purchase Price is required."),s())}function ki(i,t){i&1&&(r(0,"span",32),l(1,"Current Price is required."),s())}function Pi(i,t){i&1&&(r(0,"span",32),l(1,"Quantity is required."),s())}function Ri(i,t){i&1&&(r(0,"span",32),l(1,"Purchase Date is required."),s())}function Fi(i,t){i&1&&(r(0,"span",32),l(1,"Total Value is required."),s())}function Ii(i,t){if(i&1){let e=v();r(0,"button",33),f("click",function(){b(e);let o=u(),a=R(62);return y(o.openModal(a,"submit"))}),l(1,"Submit"),s()}}function Ni(i,t){if(i&1){let e=v();r(0,"button",34),f("click",function(){b(e);let o=u(),a=R(62);return y(o.openModal(a,"edit"))}),l(1,"Edit"),s()}}function Ai(i,t){if(i&1){let e=v();r(0,"button",35),f("click",function(){b(e);let o=u(),a=R(62);return y(o.openModal(a,"delete"))}),l(1,"Delete"),s()}}function Hi(i,t){if(i&1){let e=v();r(0,"button",43),f("click",function(){b(e);let o=u(2);return y(o.onSubmit("submit"))}),l(1,"Submit"),s()}}function Bi(i,t){if(i&1){let e=v();r(0,"button",44),f("click",function(){b(e);let o=u(2);return y(o.onSubmit("edit"))}),l(1,"Edit"),s()}}function Vi(i,t){if(i&1){let e=v();r(0,"button",45),f("click",function(){b(e);let o=u(2);return y(o.onSubmit("delete"))}),l(1,"Delete"),s()}}function Li(i,t){if(i&1){let e=v();r(0,"div",36)(1,"div",37)(2,"span"),l(3),s()(),r(4,"div",38),p(5,Hi,2,0,"button",39)(6,Bi,2,0,"button",40)(7,Vi,2,0,"button",41),r(8,"button",42),f("click",function(){b(e);let o=u();return y(o.close())}),l(9,"Close"),s()()()}if(i&2){let e=u();c(3),S(e.modalText),c(2),d("ngIf",e.currentText=="submit"),c(),d("ngIf",e.currentText=="edit"),c(),d("ngIf",e.currentText=="delete")}}var We=class i{constructor(t,e,n,o,a){this.fb=t;this.http=e;this.router=n;this.modal=o;this.platformId=a}stockForm;dataForEdit;orderId;forEdit=!1;platformId;modalText="";currentText;ngOnInit(){if(this.buildForm(),H(this.platformId)){let t=sessionStorage.getItem("Data_for_Edit");t&&(this.forEdit=!0,this.dataForEdit=JSON.parse(t),this.orderId=this.dataForEdit.orderId,this.stockForm.patchValue({type:this.dataForEdit?.type,currentValue:parseFloat(this.dataForEdit?.currentValue.replace(/,/g,"")),quantity:this.dataForEdit?.quantity,purchasePrice:this.dataForEdit?.purchasePrice,totalValue:parseFloat(this.dataForEdit?.totalValue.replace(/,/g,"")),purchaseDate:this.dataForEdit?.purchaseDate}))}}buildForm(){this.stockForm=this.fb.group({type:["",C.required],currentValue:["",[C.required,C.min(0)]],quantity:["",[C.required,C.min(0)]],purchasePrice:["",[C.required,C.min(0)]],totalValue:[{value:"",disabled:!0}],purchaseDate:["",C.required]}),this.stockForm.get("quantity")?.valueChanges.subscribe(()=>this.updateTotalValue()),this.stockForm.get("currentValue")?.valueChanges.subscribe(()=>this.updateTotalValue())}updateTotalValue(){let t=this.stockForm.get("quantity")?.value||0,e=this.stockForm.get("currentValue")?.value||0,n=t*e;this.stockForm.get("totalValue")?.setValue(n,{emitEvent:!1})}onSubmit(t){if(this.stockForm.markAllAsTouched(),this.stockForm.valid){let e=this.stockForm.value;if(this.forEdit&&this.orderId&&t=="edit"){let n=B(F({},e),{orderId:this.orderId});this.http.post("https://wealtsphere.onrender.com/api/portfolio/updateCrypto",n).subscribe(o=>{o&&this.router.navigate(["/add-investment/"])},o=>{console.error("Error updating stock:",o)})}if(this.forEdit&&this.orderId&&t=="delete"){let n={orderId:this.orderId};this.http.post("https://wealtsphere.onrender.com/api/portfolio/deleteCrypto",n).subscribe(o=>{o&&this.router.navigate(["/add-investment/crypto"])})}else if(!this.forEdit){let n=B(F({},e),{totalValue:this.stockForm.get("totalValue")?.value});this.http.post("https://wealtsphere.onrender.com/api/portfolio/putcrypto",n).subscribe(o=>{o&&this.router.navigate(["/add-investment/crypto"])},o=>{console.error("Error adding stock:",o)})}this.modal.dismissAll()}}openModal(t,e){this.currentText=e,e=="submit"&&(this.modalText="Are you sure you want to Submit ?"),e=="edit"&&(this.modalText="Are you sure you want to Edit?"),e=="delete"&&(this.modalText="Are you sure you want to Delete?"),this.modal.open(t,{size:"md",centered:!0})}close(){this.modal.dismissAll()}ngOnDestroy(){H(this.platformId)&&sessionStorage.getItem("Data_for_Edit")&&sessionStorage.removeItem("Data_for_Edit")}static \u0275fac=function(e){return new(e||i)(g(de),g(M),g(P),g(pe),g(Z))};static \u0275cmp=T({type:i,selectors:[["app-add-crypto"]],standalone:!0,features:[D],decls:63,vars:10,consts:[["myModal",""],[1,"cardBoxShadow1","mt-2"],[1,"background"],[1,"triangle"],[1,"triangle1"],[1,"form-container"],[3,"formGroup"],[1,"form-group"],["for","symbol"],["id","symbol","formControlName","type"],["value",""],["value","Bitcoin"],["value","Ethereum"],["value","Ripple"],["value","Litecoin"],["value","Cardano"],["class","error",4,"ngIf"],["for","company"],[1,"d-flex","flex-row"],[1,"symbolBox"],["id","company","formControlName","purchasePrice","type","number"],["id","company","formControlName","currentValue","type","number"],["for","quantity"],["id","quantity","formControlName","quantity","type","number"],["for","purchasePrice"],["id","purchasePrice","formControlName","purchaseDate","type","date"],["id","company","formControlName","totalValue","type","number"],["type","submit","class","submit",3,"click",4,"ngIf"],["type","submit","class","edit",3,"click",4,"ngIf"],["type","submit","class","delete",3,"click",4,"ngIf"],[1,"triangle2"],[1,"triangle3"],[1,"error"],["type","submit",1,"submit",3,"click"],["type","submit",1,"edit",3,"click"],["type","submit",1,"delete",3,"click"],[1,"modal-header-pop"],[1,"heading","my-modal"],[1,"modal-body","d-flex","justify-content-evenly","mt-3"],["class","btn btn-success",3,"click",4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-red",3,"click",4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-red",3,"click"]],template:function(e,n){if(e&1&&(r(0,"div",1)(1,"span"),l(2,"Add/Edit CryptoCurrency"),s()(),r(3,"div",2),h(4,"div",3)(5,"div",4),r(6,"div",5)(7,"form",6)(8,"div",7)(9,"label",8),l(10,"Type"),s(),r(11,"select",9)(12,"option",10),l(13,"Select Type"),s(),r(14,"option",11),l(15,"Bitcoin"),s(),r(16,"option",12),l(17,"Ethereum"),s(),r(18,"option",13),l(19,"Ripple"),s(),r(20,"option",14),l(21,"Litecoin"),s(),r(22,"option",15),l(23,"Cardano"),s()(),p(24,Mi,2,0,"span",16),s(),r(25,"div",7)(26,"label",17),l(27,"Purchase Price"),s(),r(28,"div",18)(29,"span",19),l(30,"\u20B9"),s(),h(31,"input",20),s(),p(32,Oi,2,0,"span",16),s(),r(33,"div",7)(34,"label",17),l(35,"Current Price"),s(),r(36,"div",18)(37,"span",19),l(38,"\u20B9"),s(),h(39,"input",21),s(),p(40,ki,2,0,"span",16),s(),r(41,"div",7)(42,"label",22),l(43,"Quantity"),s(),h(44,"input",23),p(45,Pi,2,0,"span",16),s(),r(46,"div",7)(47,"label",24),l(48,"Purchase Date"),s(),h(49,"input",25),p(50,Ri,2,0,"span",16),s(),r(51,"div",7)(52,"label",17),l(53,"Total Value"),s(),h(54,"input",26),p(55,Fi,2,0,"span",16),s(),p(56,Ii,2,0,"button",27)(57,Ni,2,0,"button",28)(58,Ai,2,0,"button",29),s()(),h(59,"div",30)(60,"div",31),s(),p(61,Li,10,4,"ng-template",null,0,X)),e&2){let o,a,m,_,w,E;c(7),d("formGroup",n.stockForm),c(17),d("ngIf",((o=n.stockForm.get("type"))==null?null:o.invalid)&&((o=n.stockForm.get("type"))==null?null:o.touched)),c(8),d("ngIf",((a=n.stockForm.get("purchasePrice"))==null?null:a.invalid)&&((a=n.stockForm.get("purchasePrice"))==null?null:a.touched)),c(8),d("ngIf",((m=n.stockForm.get("currentValue"))==null?null:m.invalid)&&((m=n.stockForm.get("currentValue"))==null?null:m.touched)),c(5),d("ngIf",((_=n.stockForm.get("quantity"))==null?null:_.invalid)&&((_=n.stockForm.get("quantity"))==null?null:_.touched)),c(5),d("ngIf",((w=n.stockForm.get("purchaseDate"))==null?null:w.invalid)&&((w=n.stockForm.get("purchaseDate"))==null?null:w.touched)),c(5),d("ngIf",((E=n.stockForm.get("totalValue"))==null?null:E.invalid)&&((E=n.stockForm.get("totalValue"))==null?null:E.touched)),c(),d("ngIf",!n.forEdit),c(),d("ngIf",n.forEdit),c(),d("ngIf",n.forEdit)}},dependencies:[U,re,Ne,Ae,ie,ae,Ie,oe,se,le,ce,x,k,Tt],styles:['.background[_ngcontent-%COMP%]{background-image:url("./media/girl_image-VPFQJYYI.jpg");background-size:33%;background-repeat:no-repeat;background-position:center center;width:100%;height:100%;display:flex;justify-content:center;align-items:center;position:relative;text-align:center;margin-top:5em}.form-container[_ngcontent-%COMP%]{max-width:61em;width:100%;padding:20px;border:1px solid #ddd;border-radius:8px;background-color:#ffffffe6;box-shadow:0 4px 10px #0000001a;position:relative;display:flex;justify-content:center;align-items:center}.form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.form-group[_ngcontent-%COMP%]{flex:1 1 45%;margin-right:20px;margin-bottom:16px}.form-group[_ngcontent-%COMP%]:nth-of-type(2n){margin-right:0}.form-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:8px;font-weight:700;display:block}.form-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:8px;border:1px solid #ddd;border-radius:4px}.form-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#00786c;outline:none}.submit[_ngcontent-%COMP%], .edit[_ngcontent-%COMP%], .delete[_ngcontent-%COMP%]{background-color:#00786c;color:#fff;border:none;padding:12px;border-radius:4px;cursor:pointer;font-size:16px;transition:background-color .3s ease;margin-top:16px;display:block;width:200px;margin-left:auto;margin-right:auto}.delete[_ngcontent-%COMP%]{background-color:#db5a5a}.submit[_ngcontent-%COMP%]:hover, .edit[_ngcontent-%COMP%]:hover{background-color:#005b47}.delete[_ngcontent-%COMP%]:hover{background-color:red}@media (max-width: 768px){.form-group[_ngcontent-%COMP%]{flex:1 1 100%;margin-right:0}}.cardBoxShadow1[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0003;border-radius:8px;padding:20px;margin-bottom:20px;background-color:#fff}.cardBoxShadow1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#00786c}.triangle[_ngcontent-%COMP%]{width:0;height:0;border-left:60px solid transparent;border-right:60px solid transparent;border-bottom:104.08px solid #FF8A9E;position:absolute;top:2em;left:10em;animation:_ngcontent-%COMP%_rotate 4s linear infinite;transform-origin:center}.triangle1[_ngcontent-%COMP%]{width:0;height:0;border-left:60px solid transparent;border-right:60px solid transparent;border-bottom:104.08px solid #6FB9E7;position:absolute;top:2em;left:10.5em;animation:_ngcontent-%COMP%_rotate1 4s linear infinite;transform-origin:center}.triangle3[_ngcontent-%COMP%]{width:0;height:0;border-left:60px solid transparent;border-right:60px solid transparent;border-bottom:104.08px solid #77D9D9;position:absolute;bottom:2em;right:10em;z-index:-5;animation:_ngcontent-%COMP%_rotate 4s linear infinite;transform-origin:center}.triangle2[_ngcontent-%COMP%]{width:0;height:0;border-left:60px solid transparent;border-right:60px solid transparent;border-bottom:104.08px solid #f3c089;position:absolute;bottom:2em;right:10em;z-index:-5;animation:_ngcontent-%COMP%_rotate1 4s linear infinite;transform-origin:center}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_rotate1{0%{transform:rotate(360deg)}to{transform:rotate(0)}}.my-modal[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin:auto;display:flex;justify-content:center}.btn-red[_ngcontent-%COMP%]{color:#fff;background-color:red}.error[_ngcontent-%COMP%]{color:red}.symbolBox[_ngcontent-%COMP%]{background-color:#00786c;width:1.5em;border-top-left-radius:5px;border-bottom-left-radius:5px;color:#fff;font-size:28px;height:1.6em}']})};var Gi=[{path:"",redirectTo:"initialise",pathMatch:"full"},{path:"initialise",component:Ce},{path:"stocks",component:be},{path:"cash",component:ye},{path:"crypto",component:ve},{path:"fd",component:ge},{path:"fetch-news",component:N},{path:"add-stock",component:we},{path:"add-cash",component:je},{path:"add-fd",component:$e},{path:"add-crypto",component:We}],ze=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=xe({type:i});static \u0275inj=De({imports:[nt.forChild(Gi),nt]})};var Pt=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=xe({type:i});static \u0275inj=De({imports:[x,ze,ge,be,ye,ve,Ce,N,we,U]})};export{Pt as a};
