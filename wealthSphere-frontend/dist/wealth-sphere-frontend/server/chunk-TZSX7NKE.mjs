import './polyfills.server.mjs';
import{a as ne,b as C,c as ie,d as oe,e as se,f as re,g as ae,h as le,i as Fe,j as Ne,k as Ie,l as ce,m as z,n as U,o as wt,p as q,q as J,r as Tt}from"./chunk-7J5HVCWS.mjs";import{$ as g,$a as De,A as E,Aa as gt,Ab as V,B as Te,Bb as O,Da as bt,Ea as yt,Eb as T,F as Qe,Fa as vt,Ga as Z,Gb as A,H as b,Ha as l,I as y,Ia as S,Ja as W,Ka as Ct,Kb as D,L as me,M as Ye,N as Oe,O as Ke,Pa as w,S as K,Y as Me,_ as c,a as at,aa as _t,b as j,c as lt,e as ze,eb as St,f as Ue,gc as Et,h as Y,ha as h,i as ct,ia as Ze,j as Ee,ja as Xe,jc as M,k as dt,ka as B,l as xe,la as d,lc as tt,m as qe,n as ut,na as et,o as pt,p as I,pa as Pe,q as ht,qa as r,r as Je,ra as s,sa as p,sb as ke,ta as G,u as he,ua as $,v as we,w as mt,wa as v,wb as Re,xa as f,y as x,ya as u,za as ft}from"./chunk-FW35F7MJ.mjs";import{a as R,b as H}from"./chunk-5XUXGTUW.mjs";function Rt(i,e){if(i&1&&(r(0,"th",8)(1,"span"),l(2),s()()),i&2){let t=e.$implicit;c(2),S(t.header)}}function Ft(i,e){if(i&1&&(r(0,"tr"),h(1,Rt,3,1,"th",7),s()),i&2){let t=e.$implicit;c(),d("ngForOf",t)}}function Nt(i,e){if(i&1&&(r(0,"span"),l(1),s()),i&2){let t=u().$implicit,n=u().$implicit;c(),S(n[t.field])}}function It(i,e){if(i&1&&(r(0,"span",14),p(1,"img",15),r(2,"span"),l(3),s()()),i&2){let t=u().$implicit,n=u().$implicit;c(),d("src","../../.."+n.svg_url,Me),c(2),S(n[t.field])}}function At(i,e){if(i&1&&(r(0,"span"),l(1),s()),i&2){let t=u().$implicit,n=u().$implicit;c(),S(n[t.field])}}function Ht(i,e){if(i&1&&(r(0,"td",11),h(1,Nt,2,1,"span",12)(2,It,4,2,"span",13)(3,At,2,1,"span",12),s()),i&2){let t=e.$implicit,n=u(2);c(),d("ngIf",n.heading==="Cash"&&t.field!=="currency"),c(),d("ngIf",n.heading==="Cash"&&t.field==="currency"),c(),d("ngIf",n.heading!=="Cash")}}function Bt(i,e){if(i&1&&(r(0,"tr",9),h(1,Ht,4,3,"td",10),s()),i&2){let t=u();c(),d("ngForOf",t.columns)}}function Vt(i,e){if(i&1&&(G(0),r(1,"tr")(2,"td",16)(3,"span"),l(4,"No Records Found!"),s()()(),$()),i&2){let t=u().$implicit;c(2),B("colspan",t.length)}}function Lt(i,e){if(i&1&&h(0,Vt,5,1,"ng-container",12),i&2){let t=u();d("ngIf",t.data.length===0)}}var N=class i{constructor(e,t){this.route=e;this.http=t}data=[];columns=[];heading="";ngOnInit(){this.route.url.subscribe(e=>{let t=e.map(n=>n.path).join("/");this.fetchNewsBasedOnUrl(t)}),this.populateSchema(this.heading),this.getData(this.heading)}populateSchema(e){e=="Stocks"&&(this.columns=[{field:"stocks",header:"Stocks"},{field:"marketPrice",header:"Market Price"},{field:"change",header:"Change(%)"}]),e=="Cash"&&(this.columns=[{field:"currency",header:"Currency"},{field:"exchange_rate",header:"Exchange Rate"},{field:"actual_price",header:"Estimated Value(INR)"}]),e=="Crypto"&&(this.columns=[{field:"symbol",header:"Symbol"},{field:"cmc_rank",header:"CMC Rank"},{field:"circulating_supply",header:"Circulating Supply"},{field:"total_supply",header:"Total Supply"},{field:"max_supply",header:"Max Supply"}]),this.heading=="FD"&&(this.columns=[{field:"bank_name",header:"Bank Name"},{field:"citizen_rate",header:"General Citizen Rate"},{field:"old_citizen_rate",header:"Senior Citizen Rate"}])}getData(e){let t;e=="Stocks"&&(t="http://localhost:3000/api/portfolio/getGainers",this.http.get(t).subscribe(n=>{n&&this.populateData(n)})),e=="Cash"&&(t="http://localhost:3000/api/portfolio/exchangeRates",this.http.get(t).subscribe(n=>{sessionStorage.setItem("ExchangeRates",JSON.stringify(n)),this.populateData(n)})),e=="Crypto"&&(t="http://localhost:3000/api/portfolio/cryptoRates",this.http.get(t).subscribe(n=>{this.populateData(n)})),e=="FD"&&(t="http://localhost:3000/api/portfolio/fdRates",this.http.get(t).subscribe(n=>{this.populateData(n)}))}populateData(e){if(this.data=[],this.heading=="Stocks"){let t=e?.top_gainers;if(t&&t.length)for(let n=0;n<5;n++)this.data.push({stocks:t[n]?.ticker,marketPrice:t[n]?.price,change:t[n]?.change_percentage})}if(this.heading=="Cash")for(let t=0;t<5;t++)this.data.push({currency:e[t].currency,exchange_rate:e[t].exchange_rate,actual_price:"\u20B9 "+e[t].actual_price.toFixed(2),svg_url:e[t].svg_url});if(this.heading=="Crypto")for(let t=0;t<5;t++)this.data.push({symbol:e?.data[t]?.symbol,cmc_rank:e?.data[t].cmc_rank,circulating_supply:e?.data[t].circulating_supply,total_supply:e?.data[t].total_supply,max_supply:e?.data[t].max_supply});if(this.heading=="FD")for(let t=0;t<e?.length;t++)this.data.push({bank_name:e[t].bank,citizen_rate:e[t].generalCitizensRate,old_citizen_rate:e[t].seniorCitizensRate})}fetchNewsBasedOnUrl(e){e.includes("stocks")?this.heading="Stocks":e.includes("cash")?this.heading="Cash":e.includes("crypto")?this.heading="Crypto":e.includes("fd")?this.heading="FD":this.heading="Default Heading"}static \u0275fac=function(t){return new(t||i)(g(Et),g(D))};static \u0275cmp=E({type:i,selectors:[["app-fetch-news"]],standalone:!0,features:[w],decls:11,vars:3,consts:[[1,"col-lg-12"],[1,"cardBoxShadow"],[1,"cardBoxShadow1","mt-4"],[3,"columns","value","rows"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["class","custom-header",4,"ngFor","ngForOf"],[1,"custom-header"],[1,"custom-row"],["class","custom-cell",4,"ngFor","ngForOf"],[1,"custom-cell"],[4,"ngIf"],["class","d-flex flex-row",4,"ngIf"],[1,"d-flex","flex-row"],[1,"flags",3,"src"],[1,"no-record"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"div",1)(2,"span"),l(3,"Top Movers"),s()(),r(4,"div",2)(5,"span"),l(6,"Top 5 Gainers"),s()(),r(7,"p-table",3),h(8,Ft,2,1,"ng-template",4)(9,Bt,2,1,"ng-template",5)(10,Lt,1,1,"ng-template",6),s()()),t&2&&(c(7),d("columns",n.columns)("value",n.data)("rows",10))},dependencies:[T,V,O,J,q,U],styles:[".cardBoxShadow[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:8px;padding:16px;box-shadow:0 4px 8px #0000001a;display:flex;align-items:center}.cardBoxShadow[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;margin-right:16px}.cardBoxShadow1[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0003;border-radius:8px;padding:20px;margin-bottom:20px;background-color:#fff}.cardBoxShadow1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#00786c}.flags[_ngcontent-%COMP%]{height:2em;margin-right:1em}.cardBoxShadow[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#00786c}.custom-header[_ngcontent-%COMP%]{background-color:#00786c;color:#fff;font-weight:700;text-align:left}.custom-row[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}.custom-cell[_ngcontent-%COMP%]{padding:8px}.custom-cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;color:#00786c}.p-table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.p-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .p-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px;text-align:left}.p-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#00786c;color:#fff}.p-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f2f2f2}.p-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#009688;color:#fff}.p-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}.p-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;color:#00786c}.p-table[_ngcontent-%COMP%]   td.no-record[_ngcontent-%COMP%]{text-align:center}"]})};function Gt(i,e){if(i&1&&(r(0,"th",11)(1,"span"),l(2),s()()),i&2){let t=e.$implicit;c(2),S(t.header)}}function $t(i,e){if(i&1&&(r(0,"tr"),h(1,Gt,3,1,"th",10),s()),i&2){let t=e.$implicit;c(),d("ngForOf",t)}}function jt(i,e){if(i&1&&(r(0,"span"),l(1),s()),i&2){let t=u().$implicit,n=u().$implicit;c(),S(n[t.field])}}function Wt(i,e){i&1&&(r(0,"span"),p(1,"img",16),s())}function zt(i,e){if(i&1&&(r(0,"td",14),h(1,jt,2,1,"span",15)(2,Wt,2,0,"span",15),s()),i&2){let t=e.$implicit;c(),d("ngIf",t.field!=="action"),c(),d("ngIf",t.field=="action")}}function Ut(i,e){if(i&1){let t=v();r(0,"tr",12),f("click",function(){let o=b(t).$implicit,a=u();return y(a.storeToEdit(o))}),h(1,zt,3,2,"td",13),s()}if(i&2){let t=u();c(),d("ngForOf",t.columns)}}function qt(i,e){if(i&1&&(G(0),r(1,"tr")(2,"td")(3,"span"),l(4,"No Records Found!"),s()()(),$()),i&2){let t=u().$implicit;c(2),B("colspan",t.length)}}function Jt(i,e){if(i&1&&h(0,qt,5,1,"ng-container",15),i&2){let t=u();d("ngIf",t.data.length===0)}}var _e=class i{constructor(e,t){this.http=e;this.router=t}columns=[];data=[];ngOnInit(){this.populateSchema(),this.getStockData()}populateSchema(){this.columns=[{field:"bank",header:"Bank"},{field:"amount",header:"Deposit Amount"},{field:"interest_rate",header:"Interest Rate"},{field:"tenure",header:"Tenure"},{field:"maturity_date",header:"Maturity Date"},{field:"expected_return",header:"Maturity Amount"},{field:"action",hseader:" "}]}getStockData(){this.http.get("http://localhost:3000/api/portfolio/getfd").subscribe(t=>{t&&(console.log(t),this.populateData(t))})}populateData(e){this.data=[];for(let t=0;t<e?.length;t++)this.data.push({bank:e[t].bankName,amount:this.addCommasToNumber(e[t]?.depositAmount.toFixed(2)),interest_rate:e[t].interestRate,tenure:e[t].tenure,maturity_date:new Date(e[t].maturityDate).toLocaleDateString(),expected_return:this.addCommasToNumber(e[t]?.expectedReturn.toFixed(2)),orderId:e[t].orderId?e[t].orderId:""})}addCommasToNumber(e){return typeof e=="number"&&(e=e.toString()),e.replace(/\B(?=(\d{3})+(?!\d))/g,",")}routeToStock(){this.router.navigate(["/add-investment/add-fd"])}storeToEdit(e){sessionStorage.setItem("Data_for_Edit",JSON.stringify(e)),this.router.navigate(["/add-investment/add-fd"])}static \u0275fac=function(t){return new(t||i)(g(D),g(M))};static \u0275cmp=E({type:i,selectors:[["app-fd"]],standalone:!0,features:[w],decls:17,vars:3,consts:[[1,"cardBoxShadow","col-lg-12","d-flex","justify-content-between"],[3,"click"],[1,"stock-box","d-flex","flex-row","col-lg-12"],[1,"col-lg-7"],[1,"cardBoxShadow"],[3,"columns","value","rows"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[1,"col-lg-5"],["class","custom-header",4,"ngFor","ngForOf"],[1,"custom-header"],[1,"custom-row",3,"click"],["class","custom-cell",4,"ngFor","ngForOf"],[1,"custom-cell"],[4,"ngIf"],["src","../../../assets/edit-svgrepo-com.svg",1,"edit-svg"]],template:function(t,n){t&1&&(r(0,"div")(1,"div",0)(2,"span"),l(3,"Fixed Deposit Dashboard"),s(),r(4,"button",1),f("click",function(){return n.routeToStock()}),l(5," + Add FD "),s()(),r(6,"div",2)(7,"div",3)(8,"div",4),p(9,"img"),r(10,"span"),l(11,"My FDs"),s()(),r(12,"p-table",5),h(13,$t,2,1,"ng-template",6)(14,Ut,2,1,"ng-template",7)(15,Jt,1,1,"ng-template",8),s()(),p(16,"app-fetch-news",9),s()()),t&2&&(c(12),d("columns",n.columns)("value",n.data)("rows",10))},dependencies:[T,V,O,J,q,U,N],styles:[".cardBoxShadow[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0003;border-radius:8px;padding:20px;margin-bottom:20px;background-color:#fff}.cardBoxShadow[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#00786c}.cardBoxShadow[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#00786c;color:#fff;border:none;border-radius:4px;padding:10px 20px;font-size:16px;cursor:pointer}.cardBoxShadow[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#005b4f}.stock-box[_ngcontent-%COMP%]{display:flex;flex-direction:row}.col-lg-7[_ngcontent-%COMP%], .col-lg-5[_ngcontent-%COMP%]{padding:0 20px}.custom-header[_ngcontent-%COMP%]{background-color:#00786c;color:#fff;text-align:left}.custom-cell[_ngcontent-%COMP%]{padding:10px;text-align:left}.custom-row[_ngcontent-%COMP%]{transition:background-color .3s ease}.custom-row[_ngcontent-%COMP%]:hover{background-color:#e0f2f1}p-table[_ngcontent-%COMP%]{background-color:#fff}p-table[_ngcontent-%COMP%]   .custom-header[_ngcontent-%COMP%], p-table[_ngcontent-%COMP%]   .custom-cell[_ngcontent-%COMP%]{border:1px solid #dddddd}.edit-svg[_ngcontent-%COMP%]{height:2em;width:2em}"]})};function Qt(i,e){if(i&1&&(r(0,"th",11)(1,"span"),l(2),s()()),i&2){let t=e.$implicit;c(2),S(t.header)}}function Yt(i,e){if(i&1&&(r(0,"tr"),h(1,Qt,3,1,"th",10),s()),i&2){let t=e.$implicit;c(),d("ngForOf",t)}}function Kt(i,e){if(i&1&&(r(0,"span"),l(1),s()),i&2){let t=u().$implicit,n=u().$implicit;c(),S(n[t.field])}}function Zt(i,e){i&1&&(r(0,"span"),p(1,"img",16),s())}function Xt(i,e){if(i&1&&(r(0,"td",14),h(1,Kt,2,1,"span",15)(2,Zt,2,0,"span",15),s()),i&2){let t=e.$implicit;c(),d("ngIf",t.field!=="action"),c(),d("ngIf",t.field=="action")}}function en(i,e){if(i&1){let t=v();r(0,"tr",12),f("click",function(){let o=b(t).$implicit,a=u();return y(a.storeToEdit(o))}),h(1,Xt,3,2,"td",13),s()}if(i&2){let t=u();c(),d("ngForOf",t.columns)}}function tn(i,e){if(i&1&&(G(0),r(1,"tr")(2,"td")(3,"span"),l(4,"No Records Found!"),s()()(),$()),i&2){let t=u().$implicit;c(2),B("colspan",t.length)}}function nn(i,e){if(i&1&&h(0,tn,5,1,"ng-container",15),i&2){let t=u();d("ngIf",t.data.length===0)}}var fe=class i{constructor(e,t){this.http=e;this.router=t}columns=[];data=[];ngOnInit(){this.populateSchema(),this.getStockData()}populateSchema(){this.columns=[{field:"company",header:"Stocks"},{field:"symbol",header:"Stock Symbol"},{field:"quantity",header:"Quantity Owned"},{field:"purchasePrice",header:"Purchase Price"},{field:"totalValue",header:"Total Value"},{field:"action",hseader:" "}]}getStockData(){this.http.get("http://localhost:3000/api/portfolio/getstock").subscribe(t=>{t&&(console.log(t),this.populateData(t))})}populateData(e){this.data=[];for(let t=0;t<e?.length;t++)this.data.push({company:e[t].company,symbol:e[t].symbol,quantity:e[t].quantity,totalValue:this.addCommasToNumber(e[t].totalValue.toFixed(2)),purchasePrice:this.addCommasToNumber(e[t].purchasePrice.toFixed(2)),currentPrice:this.addCommasToNumber(e[t].currentPrice.toFixed(2)),orderId:e[t].orderId?e[t].orderId:""})}routeToStock(){this.router.navigate(["/add-investment/add-stock"])}storeToEdit(e){sessionStorage.setItem("Data_for_Edit",JSON.stringify(e)),this.router.navigate(["/add-investment/add-stock"])}addCommasToNumber(e){return typeof e=="number"&&(e=e.toString()),e.replace(/\B(?=(\d{3})+(?!\d))/g,",")}static \u0275fac=function(t){return new(t||i)(g(D),g(M))};static \u0275cmp=E({type:i,selectors:[["app-stocks"]],standalone:!0,features:[w],decls:17,vars:3,consts:[[1,"cardBoxShadow","col-lg-12","d-flex","justify-content-between"],[3,"click"],[1,"stock-box","d-flex","flex-row","col-lg-12"],[1,"col-lg-7"],[1,"cardBoxShadow"],[3,"columns","value","rows"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[1,"col-lg-5"],["class","custom-header",4,"ngFor","ngForOf"],[1,"custom-header"],[1,"custom-row",3,"click"],["class","custom-cell",4,"ngFor","ngForOf"],[1,"custom-cell"],[4,"ngIf"],["src","../../../assets/edit-svgrepo-com.svg",1,"edit-svg"]],template:function(t,n){t&1&&(r(0,"div")(1,"div",0)(2,"span"),l(3,"Stocks Dashboard"),s(),r(4,"button",1),f("click",function(){return n.routeToStock()}),l(5," + Add Stock "),s()(),r(6,"div",2)(7,"div",3)(8,"div",4),p(9,"img"),r(10,"span"),l(11,"My Stocks"),s()(),r(12,"p-table",5),h(13,Yt,2,1,"ng-template",6)(14,en,2,1,"ng-template",7)(15,nn,1,1,"ng-template",8),s()(),p(16,"app-fetch-news",9),s()()),t&2&&(c(12),d("columns",n.columns)("value",n.data)("rows",10))},dependencies:[T,V,O,J,q,U,N],styles:[".cardBoxShadow[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0003;border-radius:8px;padding:20px;margin-bottom:20px;background-color:#fff}.cardBoxShadow[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#00786c}.cardBoxShadow[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#00786c;color:#fff;border:none;border-radius:4px;padding:10px 20px;font-size:16px;cursor:pointer}.cardBoxShadow[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#005b4f}.stock-box[_ngcontent-%COMP%]{display:flex;flex-direction:row}.col-lg-7[_ngcontent-%COMP%], .col-lg-5[_ngcontent-%COMP%]{padding:0 20px}.custom-header[_ngcontent-%COMP%]{background-color:#00786c;color:#fff;text-align:left}.custom-cell[_ngcontent-%COMP%]{padding:10px;text-align:left}.custom-row[_ngcontent-%COMP%]{transition:background-color .3s ease}.custom-row[_ngcontent-%COMP%]:hover{background-color:#e0f2f1}p-table[_ngcontent-%COMP%]{background-color:#fff}p-table[_ngcontent-%COMP%]   .custom-header[_ngcontent-%COMP%], p-table[_ngcontent-%COMP%]   .custom-cell[_ngcontent-%COMP%]{border:1px solid #dddddd}.edit-svg[_ngcontent-%COMP%]{height:2em;width:2em}"]})};function on(i,e){if(i&1&&(r(0,"th",11)(1,"span"),l(2),s()()),i&2){let t=e.$implicit;c(2),S(t.header)}}function sn(i,e){if(i&1&&(r(0,"tr"),h(1,on,3,1,"th",10),s()),i&2){let t=e.$implicit;c(),d("ngForOf",t)}}function rn(i,e){if(i&1&&(r(0,"span",17),p(1,"img",18),r(2,"span"),l(3),s()()),i&2){let t=u().$implicit,n=u().$implicit;c(),d("src","../../.."+n.svg_url,Me),c(2),S(n[t.field])}}function an(i,e){if(i&1&&(r(0,"span"),l(1),s()),i&2){let t=u().$implicit,n=u().$implicit;c(),S(n[t.field])}}function ln(i,e){if(i&1&&(r(0,"span"),l(1),s()),i&2){let t=u().$implicit,n=u().$implicit;c(),Ct("",n.symbol," ",n[t.field],"")}}function cn(i,e){if(i&1&&(r(0,"span"),l(1),s()),i&2){let t=u().$implicit,n=u().$implicit;c(),W("\u20B9 ",n[t.field],"")}}function dn(i,e){i&1&&(r(0,"span"),p(1,"img",19),s())}function un(i,e){if(i&1&&(r(0,"td",14),h(1,rn,4,2,"span",15)(2,an,2,1,"span",16)(3,ln,2,2,"span",16)(4,cn,2,1,"span",16)(5,dn,2,0,"span",16),s()),i&2){let t=e.$implicit;c(),d("ngIf",t.field=="currency"),c(),d("ngIf",t.field!=="currency"&&t.field!="amount"&&t.field!="inrAmount"),c(),d("ngIf",t.field=="amount"),c(),d("ngIf",t.field=="inrAmount"),c(),d("ngIf",t.field=="actions")}}function pn(i,e){if(i&1){let t=v();r(0,"tr",12),f("click",function(){let o=b(t).$implicit,a=u();return y(a.storeToEdit(o))}),h(1,un,6,5,"td",13),s()}if(i&2){let t=u();c(),d("ngForOf",t.columns)}}function hn(i,e){if(i&1&&(G(0),r(1,"tr")(2,"td")(3,"span"),l(4,"No Records Found!"),s()()(),$()),i&2){let t=u().$implicit;c(2),B("colspan",t.length)}}function mn(i,e){if(i&1&&h(0,hn,5,1,"ng-container",16),i&2){let t=u();d("ngIf",t.data.length===0)}}var ge=class i{constructor(e,t){this.router=e;this.http=t}columns=[];data=[];ngOnInit(){this.populateSchema(),this.getCashData()}populateSchema(){this.columns=[{field:"source",header:"Source"},{field:"amount",header:"Amount"},{field:"currency",header:"Currency"},{field:"inrAmount",header:"Estimated Amt."},{field:"date",header:"Date"},{field:"actions",header:""}]}storeToEdit(e){sessionStorage.setItem("Data_for_Edit",JSON.stringify(e)),this.router.navigate(["/add-investment/add-cash"])}getCashData(){this.http.get("http://localhost:3000/api/portfolio/getcash").subscribe(t=>{t&&this.populateData(t)})}populateData(e){this.data=[];for(let t=0;t<e?.length;t++)this.data.push({source:e[t].source,amount:this.addCommasToNumber(e[t].amount.toFixed(2)),currency:e[t].currency,svg_url:e[t].svg_url,symbol:e[t].symbol,inrAmount:this.addCommasToNumber(e[t].amountinINR.toFixed(2)),orderId:e[t].orderId,date:new Date(e[t].date).toLocaleDateString()})}routeToCash(){this.router.navigate(["/add-investment/add-cash"])}addCommasToNumber(e){return typeof e=="number"&&(e=e.toString()),e.replace(/\B(?=(\d{3})+(?!\d))/g,",")}static \u0275fac=function(t){return new(t||i)(g(M),g(D))};static \u0275cmp=E({type:i,selectors:[["app-cash"]],standalone:!0,features:[w],decls:17,vars:3,consts:[[1,"cardBoxShadow","col-lg-12","d-flex","justify-content-between"],[3,"click"],[1,"cash-box","d-flex","flex-row","col-lg-12"],[1,"col-lg-7"],[1,"cardBoxShadow"],[3,"columns","value","rows"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[1,"col-lg-5"],["class","custom-header",4,"ngFor","ngForOf"],[1,"custom-header"],[1,"custom-row",3,"click"],["class","custom-cell",4,"ngFor","ngForOf"],[1,"custom-cell"],["class","d-flex flex-row",4,"ngIf"],[4,"ngIf"],[1,"d-flex","flex-row"],[1,"flags",3,"src"],["src","../../../assets/edit-svgrepo-com.svg",1,"edit-svg"]],template:function(t,n){t&1&&(r(0,"div")(1,"div",0)(2,"span"),l(3,"Cash Dashboard"),s(),r(4,"button",1),f("click",function(){return n.routeToCash()}),l(5," + Add Cash "),s()(),r(6,"div",2)(7,"div",3)(8,"div",4),p(9,"img"),r(10,"span"),l(11,"My Cash"),s()(),r(12,"p-table",5),h(13,sn,2,1,"ng-template",6)(14,pn,2,1,"ng-template",7)(15,mn,1,1,"ng-template",8),s()(),p(16,"app-fetch-news",9),s()()),t&2&&(c(12),d("columns",n.columns)("value",n.data)("rows",10))},dependencies:[N,T,V,O,J,q,U],styles:[".cardBoxShadow[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0003;border-radius:8px;padding:20px;margin-bottom:20px;background-color:#fff}.cardBoxShadow[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#00786c}.cardBoxShadow[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#00786c;color:#fff;border:none;border-radius:4px;padding:10px 20px;font-size:16px;cursor:pointer}.cardBoxShadow[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#005b4f}.stock-box[_ngcontent-%COMP%]{display:flex;flex-direction:row}.col-lg-7[_ngcontent-%COMP%], .col-lg-5[_ngcontent-%COMP%]{padding:0 20px}.custom-header[_ngcontent-%COMP%]{background-color:#00786c;color:#fff;text-align:left}.custom-cell[_ngcontent-%COMP%]{padding:10px;text-align:left}.custom-row[_ngcontent-%COMP%]{transition:background-color .3s ease}.custom-row[_ngcontent-%COMP%]:hover{background-color:#e0f2f1}p-table[_ngcontent-%COMP%]{background-color:#fff}p-table[_ngcontent-%COMP%]   .custom-header[_ngcontent-%COMP%], p-table[_ngcontent-%COMP%]   .custom-cell[_ngcontent-%COMP%]{border:1px solid #dddddd}.flags[_ngcontent-%COMP%]{height:2em;margin-right:1em}.edit-svg[_ngcontent-%COMP%]{height:2em;width:2em}"]})};function _n(i,e){if(i&1&&(r(0,"th",11)(1,"span"),l(2),s()()),i&2){let t=e.$implicit;c(2),S(t.header)}}function fn(i,e){if(i&1&&(r(0,"tr"),h(1,_n,3,1,"th",10),s()),i&2){let t=e.$implicit;c(),d("ngForOf",t)}}function gn(i,e){if(i&1&&(r(0,"span"),l(1),s()),i&2){let t=u().$implicit,n=u().$implicit;c(),S(n[t.field])}}function bn(i,e){i&1&&(r(0,"span"),p(1,"img",16),s())}function yn(i,e){if(i&1&&(r(0,"td",14),h(1,gn,2,1,"span",15)(2,bn,2,0,"span",15),s()),i&2){let t=e.$implicit;c(),d("ngIf",t.field!=="action"),c(),d("ngIf",t.field=="action")}}function vn(i,e){if(i&1){let t=v();r(0,"tr",12),f("click",function(){let o=b(t).$implicit,a=u();return y(a.storeToEdit(o))}),h(1,yn,3,2,"td",13),s()}if(i&2){let t=u();c(),d("ngForOf",t.columns)}}function Cn(i,e){if(i&1&&(G(0),r(1,"tr")(2,"td")(3,"span"),l(4,"No Records Found!"),s()()(),$()),i&2){let t=u().$implicit;c(2),B("colspan",t.length)}}function Sn(i,e){if(i&1&&h(0,Cn,5,1,"ng-container",15),i&2){let t=u();d("ngIf",t.data.length===0)}}var be=class i{constructor(e,t){this.http=e;this.router=t}columns=[];data=[];ngOnInit(){this.populateSchema(),this.getStockData()}populateSchema(){this.columns=[{field:"type",header:"Type"},{field:"quantity",header:"Quantity Owned"},{field:"purchasePrice",header:"Purchase Price"},{field:"currentValue",header:"Current Value"},{field:"totalValue",header:"Total Value"},{field:"purchaseDate",header:"Purchase Date"},{field:"action",hseader:" "}]}getStockData(){this.http.get("http://localhost:3000/api/portfolio/getcrypto").subscribe(t=>{t&&(console.log(t),this.populateData(t))})}populateData(e){this.data=[];for(let t=0;t<e?.length;t++)this.data.push({type:e[t].type,quantity:e[t].quantity,totalValue:this.addCommasToNumber(e[t].totalValue.toFixed(2)),purchasePrice:this.addCommasToNumber(e[t].purchasePrice.toFixed(2)),currentValue:this.addCommasToNumber(e[t].currentValue.toFixed(2)),orderId:e[t].orderId?e[t].orderId:"",purchaseDate:this.formatDate(e[t].purchaseDate)})}routeToStock(){this.router.navigate(["/add-investment/add-crypto"])}storeToEdit(e){sessionStorage.setItem("Data_for_Edit",JSON.stringify(e)),this.router.navigate(["/add-investment/add-crypto"])}addCommasToNumber(e){return typeof e=="number"&&(e=e.toString()),e.replace(/\B(?=(\d{3})+(?!\d))/g,",")}formatDate(e){let t=new Date(e),n=t.getDate().toString().padStart(2,"0"),o=(t.getMonth()+1).toString().padStart(2,"0"),a=t.getFullYear();return`${n}-${o}-${a}`}static \u0275fac=function(t){return new(t||i)(g(D),g(M))};static \u0275cmp=E({type:i,selectors:[["app-crypto"]],standalone:!0,features:[w],decls:17,vars:3,consts:[[1,"cardBoxShadow","col-lg-12","d-flex","justify-content-between"],[3,"click"],[1,"stock-box","d-flex","flex-row","col-lg-12"],[1,"col-lg-7"],[1,"cardBoxShadow"],[3,"columns","value","rows"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[1,"col-lg-5"],["class","custom-header",4,"ngFor","ngForOf"],[1,"custom-header"],[1,"custom-row",3,"click"],["class","custom-cell",4,"ngFor","ngForOf"],[1,"custom-cell"],[4,"ngIf"],["src","../../../assets/edit-svgrepo-com.svg",1,"edit-svg"]],template:function(t,n){t&1&&(r(0,"div")(1,"div",0)(2,"span"),l(3,"CryptoCurrency Dashboard"),s(),r(4,"button",1),f("click",function(){return n.routeToStock()}),l(5," + Add Crypto "),s()(),r(6,"div",2)(7,"div",3)(8,"div",4),p(9,"img"),r(10,"span"),l(11,"My CryptoCurrency"),s()(),r(12,"p-table",5),h(13,fn,2,1,"ng-template",6)(14,vn,2,1,"ng-template",7)(15,Sn,1,1,"ng-template",8),s()(),p(16,"app-fetch-news",9),s()()),t&2&&(c(12),d("columns",n.columns)("value",n.data)("rows",10))},dependencies:[N,J,q,U,T,V,O],styles:[".cardBoxShadow[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0003;border-radius:8px;padding:20px;margin-bottom:20px;background-color:#fff}.cardBoxShadow[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#00786c}.cardBoxShadow[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#00786c;color:#fff;border:none;border-radius:4px;padding:10px 20px;font-size:16px;cursor:pointer}.cardBoxShadow[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#005b4f}.stock-box[_ngcontent-%COMP%]{display:flex;flex-direction:row}.col-lg-7[_ngcontent-%COMP%], .col-lg-5[_ngcontent-%COMP%]{padding:0 20px}.custom-header[_ngcontent-%COMP%]{background-color:#00786c;color:#fff;text-align:left}.custom-cell[_ngcontent-%COMP%]{padding:10px;text-align:left}.custom-row[_ngcontent-%COMP%]{transition:background-color .3s ease}.custom-row[_ngcontent-%COMP%]:hover{background-color:#e0f2f1}p-table[_ngcontent-%COMP%]{background-color:#fff}p-table[_ngcontent-%COMP%]   .custom-header[_ngcontent-%COMP%], p-table[_ngcontent-%COMP%]   .custom-cell[_ngcontent-%COMP%]{border:1px solid #dddddd}.edit-svg[_ngcontent-%COMP%]{height:2em;width:2em}"]})};var ye=class i{constructor(e,t){this.router=e;this.http=t}totals;ngOnInit(){this.getTotals()}getTotals(){this.http.get("http://localhost:3000/api/portfolio/portfolioTotal").subscribe(t=>{t&&(this.totals=t)})}routeTo(e){this.router.navigate([`/add-investment/${e}`])}addCommasToNumber(e){return typeof e=="number"&&(e=e.toString()),e.replace(/\B(?=(\d{3})+(?!\d))/g,",")}static \u0275fac=function(t){return new(t||i)(g(M),g(D))};static \u0275cmp=E({type:i,selectors:[["app-add-investment"]],standalone:!0,features:[w],decls:47,vars:4,consts:[[1,"initialise","col-lg-12"],[1,"options","col-lg-9"],[1,"stocks-box","d-flex","flex-column","justify-content-between",3,"click"],[1,"d-flex","flex-row"],[2,"font-size","25px","font-weight","bold","margin-left","1em"],[1,"align-self-center"],["src","../../../assets/stock-ticker.svg",1,"asset-svg"],[1,"d-flex","flex-row","justify-content-between"],[2,"font-size","20px","font-weight","bold","margin-left","1em"],[2,"font-size","21px","font-weight","bold","margin-right","1em"],[1,"cash-box","d-flex","flex-column","justify-content-between",3,"click"],["src","../../../assets/country-currencies.svg",1,"asset-svg"],[1,"fd-box","d-flex","flex-column","justify-content-between",3,"click"],["src","../../../assets/fd-svg.svg",1,"asset-svg"],[1,"crypto-box","d-flex","flex-column","justify-content-between",3,"click"],["src","../../../assets/bitcoin.svg",1,"asset-svg"],[1,"for-invest","cardBoxShadow"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),f("click",function(){return n.routeTo("stocks")}),r(3,"div",3)(4,"span",4),l(5,"Stocks"),s()(),r(6,"div",5),p(7,"img",6),s(),r(8,"div",7)(9,"span",8),l(10,"Current Position"),s(),r(11,"span",9),l(12),s()()(),r(13,"div",10),f("click",function(){return n.routeTo("cash")}),r(14,"div",3)(15,"span",4),l(16,"Cash"),s()(),r(17,"div",5),p(18,"img",11),s(),r(19,"div",7)(20,"span",8),l(21,"Current Position"),s(),r(22,"span",9),l(23),s()()(),r(24,"div",12),f("click",function(){return n.routeTo("fd")}),r(25,"div",3)(26,"span",4),l(27,"Fixed Deposits"),s()(),r(28,"div",5),p(29,"img",13),s(),r(30,"div",7)(31,"span",8),l(32,"Current Position"),s(),r(33,"span",9),l(34),s()()(),r(35,"div",14),f("click",function(){return n.routeTo("crypto")}),r(36,"div",3)(37,"span",4),l(38,"CryptoCurrency"),s()(),r(39,"div",5),p(40,"img",15),s(),r(41,"div",7)(42,"span",8),l(43,"Current Position"),s(),r(44,"span",9),l(45),s()()()(),p(46,"app-news",16),s()),t&2&&(c(12),W("\u20B9 ",n.addCommasToNumber(n.totals==null||n.totals.assetValues==null?null:n.totals.assetValues.stockTotal.toFixed(2)),""),c(11),W("\u20B9 ",n.addCommasToNumber(n.totals==null||n.totals.assetValues==null?null:n.totals.assetValues.cashTotal.toFixed(2)),""),c(11),W("\u20B9 ",n.addCommasToNumber(n.totals==null||n.totals.assetValues==null?null:n.totals.assetValues.fdTotal.toFixed(2)),""),c(11),W("\u20B9 ",n.addCommasToNumber(n.totals==null||n.totals.assetValues==null?null:n.totals.assetValues.cryptoTotal.toFixed(2)),""))},dependencies:[Tt],styles:[".initialise[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}.options[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr 1fr;grid-template-columns:1fr 1fr;row-gap:1em;padding:1em 1em 1em 5.5em}.for-invest[_ngcontent-%COMP%]{width:30em;right:3em}.options[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{color:#fff;height:18em;width:28em;border-radius:10px;cursor:pointer}.stock-news[_ngcontent-%COMP%]{background-color:#00f}.stocks-box[_ngcontent-%COMP%]{background-color:#ff6384}.stocks-box[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:30px}.stocks-box[_ngcontent-%COMP%]:hover{background-color:#e44064;transform:scale(1.02);transition:transform .3s ease-in-out}.fd-box[_ngcontent-%COMP%]{background-color:#4bc0c0}.fd-box[_ngcontent-%COMP%]:hover{background-color:#21b6b6;transform:scale(1.02);transition:transform .3s ease-in-out}.cash-box[_ngcontent-%COMP%]{background-color:#36a2eb}.cash-box[_ngcontent-%COMP%]:hover{background-color:#1a8fdd;transform:scale(1.02);transition:transform .3s ease-in-out}.crypto-box[_ngcontent-%COMP%]{background-color:#ffce56}.crypto-box[_ngcontent-%COMP%]:hover{background-color:#edba3a;transform:scale(1.02);transition:transform .3s ease-in-out}.asset-svg[_ngcontent-%COMP%]{height:200px}"]})};function En(i,e){if(i&1){let t=v();r(0,"button",23),f("click",function(){b(t);let o=u();return y(o.onSubmit("submit"))}),l(1,"Submit"),s()}}function wn(i,e){if(i&1){let t=v();r(0,"button",23),f("click",function(){b(t);let o=u();return y(o.onSubmit("edit"))}),l(1,"Edit"),s()}}function Tn(i,e){if(i&1){let t=v();r(0,"button",24),f("click",function(){b(t);let o=u();return y(o.onSubmit("delete"))}),l(1,"Delete"),s()}}var ve=class i{constructor(e,t,n,o){this.fb=e;this.http=t;this.router=n;this.platformId=o}showModal=!1;stockForm;dataForEdit;orderId;forEdit=!1;platformId;ngOnInit(){if(this.buildForm(),A(this.platformId)){let e=sessionStorage.getItem("Data_for_Edit");e&&(this.forEdit=!0,this.dataForEdit=JSON.parse(e),this.orderId=this.dataForEdit.orderId,this.stockForm.patchValue({symbol:this.dataForEdit.symbol,company:this.dataForEdit.company,purchasePrice:this.dataForEdit.purchasePrice,quantity:this.dataForEdit.quantity,totalValue:this.dataForEdit.totalValue,currentPrice:this.dataForEdit.currentPrice}))}}buildForm(){this.stockForm=this.fb.group({symbol:["",C.required],company:["",C.required],quantity:["",[C.required,C.min(0)]],purchasePrice:["",[C.required,C.min(0)]],currentPrice:["",[C.required,C.min(0)]],totalValue:[{value:"",disabled:!0}]}),this.stockForm.get("quantity")?.valueChanges.subscribe(()=>this.updateTotalValue()),this.stockForm.get("currentPrice")?.valueChanges.subscribe(()=>this.updateTotalValue())}updateTotalValue(){let e=this.stockForm.get("quantity")?.value||0,t=this.stockForm.get("currentPrice")?.value||0,n=e*t;this.stockForm.get("totalValue")?.setValue(n,{emitEvent:!1})}onSubmit(e){if(this.stockForm.valid){let t=this.stockForm.value;if(this.forEdit&&this.orderId&&e=="edit"){let n=H(R({},t),{totalValue:this.stockForm.get("totalValue")?.value||0,orderId:this.orderId});this.http.post("http://localhost:3000/api/portfolio/updateStock",n).subscribe(o=>{o&&this.router.navigate(["/add-investment/stocks"])},o=>{console.error("Error updating stock:",o)})}if(this.forEdit&&this.orderId&&e=="delete"){let n={orderId:this.orderId};this.http.post("http://localhost:3000/api/portfolio/deleteStock",n).subscribe(o=>{o&&this.router.navigate(["/add-investment/stocks"])})}else if(!this.forEdit){let n=H(R({},t),{totalValue:this.stockForm.get("totalValue")?.value||0});this.http.post("http://localhost:3000/api/portfolio/putstock",n).subscribe(o=>{console.log("Stock added successfully:",o)},o=>{console.error("Error adding stock:",o)})}}}ngOnDestroy(){A(this.platformId)&&sessionStorage.getItem("Data_for_Edit")&&sessionStorage.removeItem("Data_for_Edit")}static \u0275fac=function(t){return new(t||i)(g(ce),g(D),g(M),g(K))};static \u0275cmp=E({type:i,selectors:[["app-add-stock"]],standalone:!0,features:[w],decls:37,vars:4,consts:[[1,"cardBoxShadow1","mt-2"],[1,"background"],[1,"triangle"],[1,"triangle1"],[1,"form-container"],[3,"formGroup"],[1,"form-group"],["for","symbol"],["id","symbol","formControlName","symbol","type","text"],["for","company"],["id","company","formControlName","company","type","text"],["for","quantity"],["id","quantity","formControlName","quantity","type","number"],["for","purchasePrice"],["id","purchasePrice","formControlName","purchasePrice","type","number"],["for","currentPrice"],["id","currentPrice","formControlName","currentPrice","type","number"],["for","totalValue"],["id","totalValue","formControlName","totalValue","type","number"],["type","submit","class","edit",3,"click",4,"ngIf"],["type","submit","class","delete",3,"click",4,"ngIf"],[1,"triangle2"],[1,"triangle3"],["type","submit",1,"edit",3,"click"],["type","submit",1,"delete",3,"click"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"span"),l(2,"Add/Edit Stock"),s()(),r(3,"div",1),p(4,"div",2)(5,"div",3),r(6,"div",4)(7,"form",5)(8,"div",6)(9,"label",7),l(10,"Stock Symbol"),s(),p(11,"input",8),s(),r(12,"div",6)(13,"label",9),l(14,"Company Name"),s(),p(15,"input",10),s(),r(16,"div",6)(17,"label",11),l(18,"Quantity"),s(),p(19,"input",12),s(),r(20,"div",6)(21,"label",13),l(22,"Purchase Price"),s(),p(23,"input",14),s(),r(24,"div",6)(25,"label",15),l(26,"Current Price"),s(),p(27,"input",16),s(),r(28,"div",6)(29,"label",17),l(30,"Total Value"),s(),p(31,"input",18),s(),h(32,En,2,0,"button",19)(33,wn,2,0,"button",19)(34,Tn,2,0,"button",20),s()(),p(35,"div",21)(36,"div",22),s()),t&2&&(c(7),d("formGroup",n.stockForm),c(25),d("ngIf",!n.forEdit),c(),d("ngIf",n.forEdit),c(),d("ngIf",n.forEdit))},dependencies:[z,se,ne,re,ie,oe,ae,le,T,O],styles:['.background[_ngcontent-%COMP%]{background-image:url("./media/dale-OL2ZX3N3.webp");background-size:33%;background-repeat:no-repeat;background-position:center center;width:100%;height:100%;display:flex;justify-content:center;align-items:center;position:relative;text-align:center;margin-top:5em}.form-container[_ngcontent-%COMP%]{max-width:61em;width:100%;padding:20px;border:1px solid #ddd;border-radius:8px;background-color:#ffffffe6;box-shadow:0 4px 10px #0000001a;position:relative;display:flex;justify-content:center;align-items:center}.form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.form-group[_ngcontent-%COMP%]{flex:1 1 45%;margin-right:20px;margin-bottom:16px}.form-group[_ngcontent-%COMP%]:nth-of-type(2n){margin-right:0}.form-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:8px;font-weight:700;display:block}.form-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:8px;border:1px solid #ddd;border-radius:4px}.form-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#00786c;outline:none}.submit[_ngcontent-%COMP%], .edit[_ngcontent-%COMP%], .delete[_ngcontent-%COMP%]{background-color:#00786c;color:#fff;border:none;padding:12px;border-radius:4px;cursor:pointer;font-size:16px;transition:background-color .3s ease;margin-top:16px;display:block;width:200px;margin-left:auto;margin-right:auto}.delete[_ngcontent-%COMP%]{background-color:#db5a5a}.submit[_ngcontent-%COMP%]:hover, .edit[_ngcontent-%COMP%]:hover{background-color:#005b47}.delete[_ngcontent-%COMP%]:hover{background-color:red}@media (max-width: 768px){.form-group[_ngcontent-%COMP%]{flex:1 1 100%;margin-right:0}}.cardBoxShadow1[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0003;border-radius:8px;padding:20px;margin-bottom:20px;background-color:#fff}.cardBoxShadow1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#00786c}.triangle[_ngcontent-%COMP%]{width:0;height:0;border-left:60px solid transparent;border-right:60px solid transparent;border-bottom:104.08px solid #FF8A9E;position:absolute;top:2em;left:10em;animation:_ngcontent-%COMP%_rotate 4s linear infinite;transform-origin:center}.triangle1[_ngcontent-%COMP%]{width:0;height:0;border-left:60px solid transparent;border-right:60px solid transparent;border-bottom:104.08px solid #6FB9E7;position:absolute;top:2em;left:10.5em;animation:_ngcontent-%COMP%_rotate1 4s linear infinite;transform-origin:center}.triangle3[_ngcontent-%COMP%]{width:0;height:0;border-left:60px solid transparent;border-right:60px solid transparent;border-bottom:104.08px solid #77D9D9;position:absolute;bottom:2em;right:10em;z-index:-5;animation:_ngcontent-%COMP%_rotate 4s linear infinite;transform-origin:center}.triangle2[_ngcontent-%COMP%]{width:0;height:0;border-left:60px solid transparent;border-right:60px solid transparent;border-bottom:104.08px solid #f3c089;position:absolute;bottom:2em;right:10em;z-index:-5;animation:_ngcontent-%COMP%_rotate1 4s linear infinite;transform-origin:center}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_rotate1{0%{transform:rotate(360deg)}to{transform:rotate(0)}}']})};var xn=["*"];var On=["dialog"];var Dt={animation:!0,transitionTimerDelayMs:5},Mn=(()=>{let e=class e{constructor(){this.animation=Dt.animation}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Pn(i){let{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(i),n=parseFloat(e),o=parseFloat(t);return(n+o)*1e3}function xt(i){return typeof i=="string"}function it(i){return i!=null}function kn(i){return i&&i.then}function Ot(i){return(i||document.body).getBoundingClientRect()}function Rn(i){return e=>new at(t=>{let n=m=>i.run(()=>t.next(m)),o=m=>i.run(()=>t.error(m)),a=()=>i.run(()=>t.complete());return e.subscribe({next:n,error:o,complete:a})})}var Fn=()=>{},{transitionTimerDelayMs:Nn}=Dt,Be=new Map,pe=(i,e,t,n)=>{let o=n.context||{},a=Be.get(e);if(a)switch(n.runningTransition){case"continue":return lt;case"stop":i.run(()=>a.transition$.complete()),o=Object.assign(a.context,o),Be.delete(e)}let m=t(e,n.animation,o)||Fn;if(!n.animation||window.getComputedStyle(e).transitionProperty==="none")return i.run(()=>m()),ze(void 0).pipe(Rn(i));let _=new j,P=new j,k=_.pipe(ut(!0));Be.set(e,{transition$:_,complete:()=>{P.next(),P.complete()},context:o});let F=Pn(e);return i.runOutsideAngular(()=>{let Se=Y(e,"transitionend").pipe(I(k),Ee(({target:ue})=>ue===e)),Q=ct(F+Nn).pipe(I(k));dt(Q,Se,P).pipe(I(k)).subscribe(()=>{Be.delete(e),i.run(()=>{m(),_.next(),_.complete()})})}),_.asObservable()};var ls=(()=>{let i=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(i()||e()):!1})();var In=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Mt(i){let e=Array.from(i.querySelectorAll(In)).filter(t=>t.tabIndex!==-1);return[e[0],e[e.length-1]]}var An=(i,e,t,n=!1)=>{i.runOutsideAngular(()=>{let o=Y(e,"focusin").pipe(I(t),Ue(a=>a.target));Y(e,"keydown").pipe(I(t),Ee(a=>a.key==="Tab"),Je(o)).subscribe(([a,m])=>{let[_,P]=Mt(e);(m===_||m===e)&&a.shiftKey&&(P.focus(),a.preventDefault()),m===P&&!a.shiftKey&&(_.focus(),a.preventDefault())}),n&&Y(e,"click").pipe(I(t),Je(o),Ue(a=>a[1])).subscribe(a=>a.focus())})};var cs=new Date(1882,10,12),ds=new Date(2174,10,25);var us=1e3*60*60*24;var rt=1080,Hn=24*rt,Bn=12*rt+793,ps=29*Hn+Bn,hs=11*rt+204;var Vn=(()=>{let e=class e{constructor(){this._ngbConfig=x(Mn),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(n){this._animation=n}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Ce=class{constructor(e,t,n){this.nodes=e,this.viewRef=t,this.componentRef=n}};var Ln=(()=>{let e=class e{constructor(){this._document=x(Re)}hide(){let n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),o=this._document.body,a=o.style,{overflow:m,paddingRight:_}=a;if(n>0){let P=parseFloat(window.getComputedStyle(o).paddingRight);a.paddingRight=`${P+n}px`}return a.overflow="hidden",()=>{n>0&&(a.paddingRight=_),a.overflow=m}}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Gn=(()=>{let e=class e{constructor(){this._nativeElement=x(Ke).nativeElement,this._zone=x(Oe),this._injector=x(me)}ngOnInit(){Xe(()=>pe(this._zone,this._nativeElement,(n,o)=>{o&&Ot(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"}),{injector:this._injector,phase:Ze.MixedReadWrite})}hide(){return pe(this._zone,this._nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=E({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(o,a){o&2&&(Pe("modal-backdrop"+(a.backdropClass?" "+a.backdropClass:"")),et("show",!a.animation)("fade",a.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[w],decls:0,vars:0,template:function(o,a){},encapsulation:2});let i=e;return i})(),Ve=class{update(e){}close(e){}dismiss(e){}},$n=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],jn=["animation","backdropClass"],ot=class{_applyWindowOptions(e,t){$n.forEach(n=>{it(t[n])&&(e[n]=t[n])})}_applyBackdropOptions(e,t){jn.forEach(n=>{it(t[n])&&(e[n]=t[n])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(I(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(I(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,t,n,o){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=n,this._beforeDismiss=o,this._closed=new j,this._dismissed=new j,this._hidden=new j,e.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,m)=>{this._resolve=a,this._reject=m}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(e);else{let t=this._beforeDismiss();kn(t)?t.then(n=>{n!==!1&&this._dismiss(e)},()=>{}):t!==!1&&this._dismiss(e)}}_removeModalElements(){let e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ze(void 0);e.subscribe(()=>{let{nativeElement:n}=this._windowCmptRef.location;n.parentNode.removeChild(n),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:n}=this._backdropCmptRef.location;n.parentNode.removeChild(n),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),xe(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},st=function(i){return i[i.BACKDROP_CLICK=0]="BACKDROP_CLICK",i[i.ESC=1]="ESC",i}(st||{}),Wn=(()=>{let e=class e{constructor(){this._document=x(Re),this._elRef=x(Ke),this._zone=x(Oe),this._injector=x(me),this._closed$=new j,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Ye,this.shown=new j,this.hidden=new j}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":xt(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,Xe(()=>this._show(),{injector:this._injector,phase:Ze.MixedReadWrite})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:n}=this._elRef,o={animation:this.animation,runningTransition:"stop"},a=pe(this._zone,n,()=>n.classList.remove("show"),o),m=pe(this._zone,this._dialogEl.nativeElement,()=>{},o),_=xe(a,m);return _.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),_}_show(){let n={animation:this.animation,runningTransition:"continue"},o=pe(this._zone,this._elRef.nativeElement,(m,_)=>{_&&Ot(m),m.classList.add("show")},n),a=pe(this._zone,this._dialogEl.nativeElement,()=>{},n);xe(o,a).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{Y(n,"keydown").pipe(I(this._closed$),Ee(a=>a.key==="Escape")).subscribe(a=>{this.keyboard?requestAnimationFrame(()=>{a.defaultPrevented||this._zone.run(()=>this.dismiss(st.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let o=!1;Y(this._dialogEl.nativeElement,"mousedown").pipe(I(this._closed$),ht(()=>o=!1),pt(()=>Y(n,"mouseup").pipe(I(this._closed$),qe(1))),Ee(({target:a})=>n===a)).subscribe(()=>{o=!0}),Y(n,"click").pipe(I(this._closed$)).subscribe(({target:a})=>{n===a&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!o&&this._zone.run(()=>this.dismiss(st.BACKDROP_CLICK))),o=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){let o=n.querySelector("[ngbAutofocus]"),a=Mt(n)[0];(o||a||n).focus()}}_restoreFocus(){let n=this._document.body,o=this._elWithFocus,a;o&&o.focus&&n.contains(o)?a=o:a=n,this._zone.runOutsideAngular(()=>{setTimeout(()=>a.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&pe(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=E({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(o,a){if(o&1&&bt(On,7),o&2){let m;yt(m=vt())&&(a._dialogEl=m.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(o,a){o&2&&(B("aria-modal",!0)("aria-labelledby",a.ariaLabelledBy)("aria-describedby",a.ariaDescribedBy),Pe("modal d-block"+(a.windowClass?" "+a.windowClass:"")),et("fade",a.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[w],ngContentSelectors:xn,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(o,a){o&1&&(ft(),r(0,"div",1,0)(2,"div",2),gt(3),s()()),o&2&&Pe("modal-dialog"+(a.size?" modal-"+a.size:"")+(a.centered?" modal-dialog-centered":"")+a.fullscreenClass+(a.scrollable?" modal-dialog-scrollable":"")+(a.modalDialogClass?" "+a.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2});let i=e;return i})(),zn=(()=>{let e=class e{constructor(){this._applicationRef=x(St),this._injector=x(me),this._environmentInjector=x(Qe),this._document=x(Re),this._scrollBar=x(Ln),this._activeWindowCmptHasChanged=new j,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Ye;let n=x(Oe);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let o=this._windowCmpts[this._windowCmpts.length-1];An(n,o.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(o.location.nativeElement)}})}_restoreScrollBar(){let n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,o,a){let m=a.container instanceof HTMLElement?a.container:it(a.container)?this._document.querySelector(a.container):this._document.body;if(!m)throw new Error(`The specified modal container "${a.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let _=new Ve;n=a.injector||n;let P=n.get(Qe,null)||this._environmentInjector,k=this._getContentRef(n,P,o,_,a),F=a.backdrop!==!1?this._attachBackdrop(m):void 0,Se=this._attachWindowComponent(m,k.nodes),Q=new ot(Se,k,F,a.beforeDismiss);return this._registerModalRef(Q),this._registerWindowCmpt(Se),Q.hidden.pipe(qe(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),_.close=ue=>{Q.close(ue)},_.dismiss=ue=>{Q.dismiss(ue)},_.update=ue=>{Q.update(ue)},Q.update(a),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),F&&F.instance&&F.changeDetectorRef.detectChanges(),Se.changeDetectorRef.detectChanges(),Q}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(o=>o.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let o=ke(Gn,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(o.hostView),n.appendChild(o.location.nativeElement),o}_attachWindowComponent(n,o){let a=ke(Wn,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:o});return this._applicationRef.attachView(a.hostView),n.appendChild(a.location.nativeElement),a}_getContentRef(n,o,a,m,_){return a?a instanceof _t?this._createFromTemplateRef(a,m):xt(a)?this._createFromString(a):this._createFromComponent(n,o,a,m,_):new Ce([])}_createFromTemplateRef(n,o){let a={$implicit:o,close(_){o.close(_)},dismiss(_){o.dismiss(_)}},m=n.createEmbeddedView(a);return this._applicationRef.attachView(m),new Ce([m.rootNodes],m)}_createFromString(n){let o=this._document.createTextNode(`${n}`);return new Ce([[o]])}_createFromComponent(n,o,a,m,_){let P=me.create({providers:[{provide:Ve,useValue:m}],parent:n}),k=ke(a,{environmentInjector:o,elementInjector:P}),F=k.location.nativeElement;return _.scrollable&&F.classList.add("component-host-scrollable"),this._applicationRef.attachView(k.hostView),new Ce([[F]],k.hostView,k)}_setAriaHidden(n){let o=n.parentElement;o&&n!==this._document.body&&(Array.from(o.children).forEach(a=>{a!==n&&a.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}),this._setAriaHidden(o))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,o)=>{n?o.setAttribute("aria-hidden",n):o.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){let o=()=>{let a=this._modalRefs.indexOf(n);a>-1&&(this._modalRefs.splice(a,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(o,o)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{let o=this._windowCmpts.indexOf(n);o>-1&&(this._windowCmpts.splice(o,1),this._activeWindowCmptHasChanged.next())})}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Le=(()=>{let e=class e{constructor(){this._injector=x(me),this._modalStack=x(zn),this._config=x(Vn)}open(n,o={}){let a=R(H(R({},this._config),{animation:this._config.animation}),o);return this._modalStack.open(this._injector,n,a)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var ms=new mt("live announcer delay",{providedIn:"root",factory:()=>100});function Un(i,e){i&1&&(r(0,"span",9),l(1," Bank Name is required. "),s())}function qn(i,e){i&1&&(r(0,"span",9),l(1," Deposit Amount is required. "),s())}function Jn(i,e){i&1&&(r(0,"span",9),l(1," Beginning Date is required. "),s())}function Qn(i,e){i&1&&(r(0,"span",9),l(1," Maturity Date is required. "),s())}function Yn(i,e){i&1&&(r(0,"span",9),l(1," Interest Rate is required. "),s())}function Kn(i,e){i&1&&(r(0,"span",9),l(1," Tenure is required. "),s())}function Zn(i,e){i&1&&(r(0,"span",9),l(1," Maturity Amount is required. "),s())}function Xn(i,e){if(i&1){let t=v();r(0,"button",28),f("click",function(){b(t);let o=u(),a=Z(70);return y(o.openModal(a,"submit"))}),l(1,"Submit"),s()}}function ei(i,e){if(i&1){let t=v();r(0,"button",29),f("click",function(){b(t);let o=u(),a=Z(70);return y(o.openModal(a,"edit"))}),l(1,"Edit"),s()}}function ti(i,e){if(i&1){let t=v();r(0,"button",30),f("click",function(){b(t);let o=u(),a=Z(70);return y(o.openModal(a,"delete"))}),l(1,"Delete"),s()}}function ni(i,e){if(i&1){let t=v();r(0,"button",38),f("click",function(){b(t);let o=u(2);return y(o.onSubmit("submit"))}),l(1,"Submit"),s()}}function ii(i,e){if(i&1){let t=v();r(0,"button",39),f("click",function(){b(t);let o=u(2);return y(o.onSubmit("edit"))}),l(1,"Edit"),s()}}function oi(i,e){if(i&1){let t=v();r(0,"button",40),f("click",function(){b(t);let o=u(2);return y(o.onSubmit("delete"))}),l(1,"Delete"),s()}}function si(i,e){if(i&1){let t=v();r(0,"div",31)(1,"div",32)(2,"span"),l(3),s()(),r(4,"div",33),h(5,ni,2,0,"button",34)(6,ii,2,0,"button",35)(7,oi,2,0,"button",36),r(8,"button",37),f("click",function(){b(t);let o=u();return y(o.close())}),l(9,"Close"),s()()()}if(i&2){let t=u();c(3),S(t.modalText),c(2),d("ngIf",t.currentText=="submit"),c(),d("ngIf",t.currentText=="edit"),c(),d("ngIf",t.currentText=="delete")}}var Ge=class i{constructor(e,t,n,o,a){this.fb=e;this.http=t;this.router=n;this.modal=o;this.platformId=a}stockForm;dataForEdit;orderId;forEdit=!1;platformId;modalText="";currentText;ngOnInit(){if(this.buildForm(),A(this.platformId)){let e=sessionStorage.getItem("Data_for_Edit");e&&(this.forEdit=!0,this.dataForEdit=JSON.parse(e),this.orderId=this.dataForEdit.orderId,this.stockForm.patchValue({bankName:this.dataForEdit?.bank,depositAmount:parseFloat(this.dataForEdit?.amount.replace(/,/g,"")),interestRate:this.dataForEdit?.interest_rate,tenure:this.dataForEdit?.tenure,maturityDate:this.dataForEdit?.maturity_date,beginningDate:this.dataForEdit?.beginningDate,expectedReturn:this.dataForEdit?.expected_return}),console.log(new Date(this.dataForEdit?.maturity_date)))}this.stockForm.valueChanges.subscribe(()=>{this.updateMaturityAmount()})}buildForm(){this.stockForm=this.fb.group({depositAmount:["",C.required],interestRate:["",[C.required,C.min(0)]],maturityDate:["",[C.required]],beginningDate:["",[C.required]],bankName:["",[C.required]],tenure:[{value:"",disabled:!0},C.required],expectedReturn:[{value:"",disabled:!0},C.required]})}calculateMaturityAmount(e,t,n){let a=t/100,m=n/365,_=e*Math.pow(1+a/4,4*m);return Math.round(_)}updateMaturityAmount(){let e=this.stockForm.value,t=e.depositAmount,n=e.interestRate,o=e.beginningDate,a=e.maturityDate;if(!isNaN(t)&&!isNaN(n)&&o&&a){let m=this.calculateTenureInDays(o,a);this.stockForm.patchValue({tenure:m},{emitEvent:!1});let _=this.calculateMaturityAmount(t,n,m);this.stockForm.patchValue({expectedReturn:_},{emitEvent:!1})}}calculateTenureInDays(e,t){let n=new Date(e);return(new Date(t).getTime()-n.getTime())/(1e3*3600*24)}onSubmit(e){if(this.stockForm.markAllAsTouched(),this.stockForm.valid){let t=this.stockForm.getRawValue();if(this.forEdit&&this.orderId&&e==="edit"){let n=H(R({},t),{orderId:this.orderId});this.http.post("http://localhost:3000/api/portfolio/updatefd",n).subscribe(o=>{o&&this.router.navigate(["/add-investment/fd"])},o=>{console.error("Error updating FD:",o)})}else if(this.forEdit&&this.orderId&&e==="delete"){let n={orderId:this.orderId};this.http.post("http://localhost:3000/api/portfolio/deletefd",n).subscribe(o=>{o&&this.router.navigate(["/add-investment/fd"])})}else if(!this.forEdit){let n=R({},t);this.http.post("http://localhost:3000/api/portfolio/addfd",n).subscribe(o=>{o&&this.router.navigate(["/add-investment/fd"])},o=>{console.error("Error adding FD:",o)})}}this.modal.dismissAll()}ngOnDestroy(){A(this.platformId)&&sessionStorage.getItem("Data_for_Edit")&&sessionStorage.removeItem("Data_for_Edit")}openModal(e,t){this.currentText=t,t=="submit"&&(this.modalText="Are you sure you want to Submit ?"),t=="edit"&&(this.modalText="Are you sure you want to Edit?"),t=="delete"&&(this.modalText="Are you sure you want to Delete?"),this.modal.open(e,{size:"md",centered:!0})}close(){this.modal.dismissAll()}static \u0275fac=function(t){return new(t||i)(g(ce),g(D),g(M),g(Le),g(K))};static \u0275cmp=E({type:i,selectors:[["app-add-fd"]],standalone:!0,features:[w],decls:71,vars:11,consts:[["myModal",""],[1,"cardBoxShadow1","mt-2"],[1,"background"],[1,"triangle"],[1,"triangle1"],[1,"form-container"],[3,"formGroup"],[1,"form-group"],["for","symbol"],[1,"error"],["id","symbol","formControlName","bankName","type","text"],["class","error",4,"ngIf"],[1,"d-flex","flex-row"],[1,"symbolBox"],["id","symbol","formControlName","depositAmount","type","number"],["for","quantity"],["id","quantity","formControlName","beginningDate","type","date"],["id","quantity","formControlName","maturityDate","type","date"],["for","company"],["id","company","formControlName","interestRate","type","number"],["id","quantity","formControlName","tenure","type","text"],[1,"form-group1"],["id","quantity","formControlName","expectedReturn","type","text"],["type","submit","class","submit",3,"click",4,"ngIf"],["type","submit","class","edit",3,"click",4,"ngIf"],["type","submit","class","delete",3,"click",4,"ngIf"],[1,"triangle2"],[1,"triangle3"],["type","submit",1,"submit",3,"click"],["type","submit",1,"edit",3,"click"],["type","submit",1,"delete",3,"click"],[1,"modal-header-pop"],[1,"heading","my-modal"],[1,"modal-body","d-flex","justify-content-evenly","mt-3"],["class","btn btn-success",3,"click",4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-red",3,"click",4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-red",3,"click"]],template:function(t,n){if(t&1&&(r(0,"div",1)(1,"span"),l(2,"Add/Edit Fixed Deposit"),s()(),r(3,"div",2),p(4,"div",3)(5,"div",4),r(6,"div",5)(7,"form",6)(8,"div",7)(9,"label",8),l(10,"Bank "),r(11,"span",9),l(12,"*"),s()(),p(13,"input",10),h(14,Un,2,0,"span",11),s(),r(15,"div",7)(16,"label",8),l(17,"Deposit Amount"),r(18,"span",9),l(19,"*"),s()(),r(20,"div",12)(21,"span",13),l(22,"\u20B9"),s(),p(23,"input",14),s(),h(24,qn,2,0,"span",11),s(),r(25,"div",7)(26,"label",15),l(27,"Beginning Date"),r(28,"span",9),l(29,"*"),s()(),p(30,"input",16),h(31,Jn,2,0,"span",11),s(),r(32,"div",7)(33,"label",15),l(34,"Maturity Date"),r(35,"span",9),l(36,"*"),s()(),p(37,"input",17),h(38,Qn,2,0,"span",11),s(),r(39,"div",7)(40,"label",18),l(41,"Interest Rate"),r(42,"span",9),l(43,"*"),s()(),r(44,"div",12)(45,"span",13),l(46,"%"),s(),p(47,"input",19),s(),h(48,Yn,2,0,"span",11),s(),r(49,"div",7)(50,"label",15),l(51,"Tenure(in Days)"),r(52,"span",9),l(53,"*"),s()(),p(54,"input",20),s(),h(55,Kn,2,0,"span",11),r(56,"div",21)(57,"label",15),l(58,"Maturity Amount"),s(),r(59,"div",12)(60,"span",13),l(61,"\u20B9"),s(),p(62,"input",22),s(),h(63,Zn,2,0,"span",11),s(),h(64,Xn,2,0,"button",23)(65,ei,2,0,"button",24)(66,ti,2,0,"button",25),s()(),p(67,"div",26)(68,"div",27),s(),h(69,si,10,4,"ng-template",null,0,De)),t&2){let o,a,m,_,P,k,F;c(7),d("formGroup",n.stockForm),c(7),d("ngIf",((o=n.stockForm.get("bankName"))==null?null:o.invalid)&&((o=n.stockForm.get("bankName"))==null?null:o.touched)),c(10),d("ngIf",((a=n.stockForm.get("depositAmount"))==null?null:a.invalid)&&((a=n.stockForm.get("depositAmount"))==null?null:a.touched)),c(7),d("ngIf",((m=n.stockForm.get("beginningDate"))==null?null:m.invalid)&&((m=n.stockForm.get("beginningDate"))==null?null:m.touched)),c(7),d("ngIf",((_=n.stockForm.get("maturityDate"))==null?null:_.invalid)&&((_=n.stockForm.get("maturityDate"))==null?null:_.touched)),c(10),d("ngIf",((P=n.stockForm.get("interestRate"))==null?null:P.invalid)&&((P=n.stockForm.get("interestRate"))==null?null:P.touched)),c(7),d("ngIf",((k=n.stockForm.get("tenure"))==null?null:k.invalid)&&((k=n.stockForm.get("tenure"))==null?null:k.touched)),c(8),d("ngIf",((F=n.stockForm.get("expectedReturn"))==null?null:F.invalid)&&((F=n.stockForm.get("expectedReturn"))==null?null:F.touched)),c(),d("ngIf",!n.forEdit),c(),d("ngIf",n.forEdit),c(),d("ngIf",n.forEdit)}},dependencies:[z,se,ne,re,ie,oe,ae,le,T,O],styles:['.background[_ngcontent-%COMP%]{background-image:url("./media/girl_image-VPFQJYYI.jpg");background-size:33%;background-repeat:no-repeat;background-position:center center;width:100%;height:100%;display:flex;justify-content:center;align-items:center;position:relative;text-align:center;margin-top:5em}.form-container[_ngcontent-%COMP%]{max-width:61em;width:100%;padding:20px;border:1px solid #ddd;border-radius:8px;background-color:#ffffffe6;box-shadow:0 4px 10px #0000001a;position:relative;display:flex;justify-content:center;align-items:center}.form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.form-group[_ngcontent-%COMP%]{flex:1 1 45%;margin-right:20px;margin-bottom:16px}.form-group1[_ngcontent-%COMP%]{flex:1 1 90%;margin-right:20px;margin-bottom:16px}.form-group[_ngcontent-%COMP%]:nth-of-type(2n){margin-right:0}.form-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:8px;font-weight:700;display:block}.form-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:8px;border:1px solid #ddd;border-radius:4px}.form-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#00786c;outline:none}.submit[_ngcontent-%COMP%], .edit[_ngcontent-%COMP%], .delete[_ngcontent-%COMP%]{background-color:#00786c;color:#fff;border:none;padding:12px;border-radius:4px;cursor:pointer;font-size:16px;transition:background-color .3s ease;margin-top:16px;display:block;width:200px;margin-left:auto;margin-right:auto}.delete[_ngcontent-%COMP%]{background-color:#db5a5a}.submit[_ngcontent-%COMP%]:hover, .edit[_ngcontent-%COMP%]:hover{background-color:#005b47}.delete[_ngcontent-%COMP%]:hover{background-color:red}@media (max-width: 768px){.form-group[_ngcontent-%COMP%]{flex:1 1 100%;margin-right:0}}.cardBoxShadow1[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0003;border-radius:8px;padding:20px;margin-bottom:20px;background-color:#fff}.cardBoxShadow1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#00786c}.triangle[_ngcontent-%COMP%]{width:0;height:0;border-left:60px solid transparent;border-right:60px solid transparent;border-bottom:104.08px solid #FF8A9E;position:absolute;top:2em;left:10em;animation:_ngcontent-%COMP%_rotate 4s linear infinite;transform-origin:center}.triangle1[_ngcontent-%COMP%]{width:0;height:0;border-left:60px solid transparent;border-right:60px solid transparent;border-bottom:104.08px solid #6FB9E7;position:absolute;top:2em;left:10.5em;animation:_ngcontent-%COMP%_rotate1 4s linear infinite;transform-origin:center}.triangle3[_ngcontent-%COMP%]{width:0;height:0;border-left:60px solid transparent;border-right:60px solid transparent;border-bottom:104.08px solid #77D9D9;position:absolute;bottom:2em;right:10em;z-index:-5;animation:_ngcontent-%COMP%_rotate 4s linear infinite;transform-origin:center}.triangle2[_ngcontent-%COMP%]{width:0;height:0;border-left:60px solid transparent;border-right:60px solid transparent;border-bottom:104.08px solid #f3c089;position:absolute;bottom:2em;right:10em;z-index:-5;animation:_ngcontent-%COMP%_rotate1 4s linear infinite;transform-origin:center}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_rotate1{0%{transform:rotate(360deg)}to{transform:rotate(0)}}.my-modal[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin:auto;display:flex;justify-content:center}.btn-red[_ngcontent-%COMP%]{color:#fff;background-color:red}.error[_ngcontent-%COMP%]{color:red}.symbolBox[_ngcontent-%COMP%]{background-color:#00786c;width:1.5em;border-top-left-radius:5px;border-bottom-left-radius:5px;color:#fff;font-size:28px;height:1.6em}']})};function ri(i,e){i&1&&(r(0,"span",9),l(1,"Source is required."),s())}function ai(i,e){if(i&1&&(r(0,"option",28),l(1),s()),i&2){let t=e.$implicit;d("value",t),c(),W(" ",t," ")}}function li(i,e){i&1&&(r(0,"span",9),l(1,"Currency is required."),s())}function ci(i,e){i&1&&(r(0,"span",9),l(1,"Amount is required."),s())}function di(i,e){i&1&&(r(0,"span",9),l(1,"Estimated Amount is required."),s())}function ui(i,e){if(i&1){let t=v();r(0,"button",29),f("click",function(){b(t);let o=u(),a=Z(51);return y(o.openModal(a,"submit"))}),l(1,"Submit"),s()}}function pi(i,e){if(i&1){let t=v();r(0,"button",30),f("click",function(){b(t);let o=u(),a=Z(51);return y(o.openModal(a,"edit"))}),l(1,"Edit"),s()}}function hi(i,e){if(i&1){let t=v();r(0,"button",31),f("click",function(){b(t);let o=u(),a=Z(51);return y(o.openModal(a,"delete"))}),l(1,"Delete"),s()}}function mi(i,e){if(i&1){let t=v();r(0,"button",39),f("click",function(){b(t);let o=u(2);return y(o.onSubmit("submit"))}),l(1,"Submit"),s()}}function _i(i,e){if(i&1){let t=v();r(0,"button",40),f("click",function(){b(t);let o=u(2);return y(o.onSubmit("edit"))}),l(1,"Edit"),s()}}function fi(i,e){if(i&1){let t=v();r(0,"button",41),f("click",function(){b(t);let o=u(2);return y(o.onSubmit("delete"))}),l(1,"Delete"),s()}}function gi(i,e){if(i&1){let t=v();r(0,"div",32)(1,"div",33)(2,"span"),l(3),s()(),r(4,"div",34),h(5,mi,2,0,"button",35)(6,_i,2,0,"button",36)(7,fi,2,0,"button",37),r(8,"button",38),f("click",function(){b(t);let o=u();return y(o.close())}),l(9,"Close"),s()()()}if(i&2){let t=u();c(3),S(t.modalText),c(2),d("ngIf",t.currentText=="submit"),c(),d("ngIf",t.currentText=="edit"),c(),d("ngIf",t.currentText=="delete")}}var $e=class i{constructor(e,t,n,o,a){this.fb=e;this.http=t;this.router=n;this.modal=o;this.platformId=a}stockForm;dataForEdit;orderId;currencies=["INR","USD","GBP","EUR","CAD"];currencySymbols={INR:"\u20B9",USD:"$",GBP:"\xA3",EUR:"\u20AC",CAD:"C$"};currentCurrencySymbol="";forEdit=!1;platformId;modalText="";currentText;currencyRate;isModalVisible=!1;exchangeRates=[];selectedCurrenci;ngOnInit(){this.buildForm(),this.onEdit()}buildForm(){this.stockForm=this.fb.group({source:["",C.required],amount:["",[C.required,C.min(1)]],currency:["",[C.required]],estimatedAmt:[{value:"",disabled:!0},C.required]})}onEdit(){if(A(this.platformId)){let e=sessionStorage.getItem("Data_for_Edit"),t=sessionStorage.getItem("ExchangeRates");t&&(this.exchangeRates=JSON.parse(t)),e&&(this.forEdit=!0,this.dataForEdit=JSON.parse(e),this.orderId=this.dataForEdit.orderId,this.currencies.includes(this.dataForEdit.currency)&&(this.stockForm.patchValue({source:this.dataForEdit.source,amount:parseFloat(this.dataForEdit?.amount.replace(/,/g,"")),estimatedAmt:parseFloat(this.dataForEdit?.inrAmount.replace(/,/g,"")),currency:this.dataForEdit.currency}),this.currentCurrencySymbol=this.currencySymbols[this.dataForEdit.currency]))}this.stockForm.get("amount")?.valueChanges.subscribe(()=>{this.triggerCalculationIfValid()}),this.stockForm.get("currency")?.valueChanges.subscribe(e=>{this.selectedCurrenci=e,this.currentCurrencySymbol=this.currencySymbols[e]||"",this.triggerCalculationIfValid()})}triggerCalculationIfValid(){let e=this.stockForm.get("amount")?.value,t=this.stockForm.get("currency")?.value;e&&!isNaN(e)&&t&&this.calculateEstimatedValue()}calculateEstimatedValue(){let e=this.stockForm.get("amount")?.value;if(!e||isNaN(e)){console.warn("Amount is invalid or not entered");return}let t=this.exchangeRates.find(n=>n.currency===this.selectedCurrenci);if(t){let n=e*t.actual_price;this.stockForm.patchValue({estimatedAmt:n.toFixed(2)},{emitEvent:!1})}}openModal(e,t){this.currentText=t,t=="submit"&&(this.modalText="Are you sure you want to Submit ?"),t=="edit"&&(this.modalText="Are you sure you want to Edit?"),t=="delete"&&(this.modalText="Are you sure you want to Delete?"),this.modal.open(e,{size:"md",centered:!0})}close(){this.modal.dismissAll()}onSubmit(e){if(this.stockForm.markAllAsTouched(),this.stockForm.valid){let t=this.stockForm.value;if(this.forEdit&&this.orderId&&e=="edit"){let n=H(R({},t),{orderId:this.orderId});this.http.post("http://localhost:3000/api/portfolio/updateCash",n).subscribe(o=>{o&&this.router.navigate(["/add-investment/cash"])},o=>{console.error("Error updating stock:",o)})}if(this.forEdit&&this.orderId&&e=="delete"){let n={orderId:this.orderId};this.http.post("http://localhost:3000/api/portfolio/deleteCash",n).subscribe(o=>{o&&this.router.navigate(["/add-investment/cash"])})}else if(!this.forEdit){let n=R({},t);this.http.post("http://localhost:3000/api/portfolio/putcash",n).subscribe(o=>{this.router.navigate(["/add-investment/cash"])},o=>{console.error("Error adding stock:",o)})}}this.modal.dismissAll()}ngOnDestroy(){A(this.platformId)&&sessionStorage.getItem("Data_for_Edit")&&(sessionStorage.removeItem("Data_for_Edit"),sessionStorage.removeItem("ExchangeRates"))}static \u0275fac=function(t){return new(t||i)(g(ce),g(D),g(M),g(Le),g(K))};static \u0275cmp=E({type:i,selectors:[["app-add-cash"]],standalone:!0,features:[w],decls:52,vars:10,consts:[["myModal",""],[1,"cardBoxShadow1","mt-2"],[1,"background"],[1,"triangle"],[1,"triangle1"],[1,"form-container"],[1,"col-lg-12",3,"formGroup"],[1,"form-group","col-lg-6"],["for","symbol"],[1,"error"],["id","symbol","formControlName","source","type","text"],["class","error",4,"ngIf"],["for","currency"],["formControlName","currency",1,"form-control"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["for","company"],[1,"d-flex","flex-row"],[1,"symbolBox"],["id","company","formControlName","amount","type","number"],[1,"form-group"],["for","estimatedAmt"],["id","estimatedAmt","formControlName","estimatedAmt","type","number"],["type","submit","class","submit",3,"click",4,"ngIf"],["type","submit","class","edit",3,"click",4,"ngIf"],["type","submit","class","delete",3,"click",4,"ngIf"],[1,"triangle2"],[1,"triangle3"],[3,"value"],["type","submit",1,"submit",3,"click"],["type","submit",1,"edit",3,"click"],["type","submit",1,"delete",3,"click"],[1,"modal-header-pop"],[1,"heading","my-modal"],[1,"modal-body","d-flex","justify-content-evenly","mt-3"],["class","btn btn-success",3,"click",4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-red",3,"click",4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-red",3,"click"]],template:function(t,n){if(t&1&&(r(0,"div",1)(1,"span"),l(2,"Add/Edit Cash"),s()(),r(3,"div",2),p(4,"div",3)(5,"div",4),r(6,"div",5)(7,"form",6)(8,"div",7)(9,"label",8),l(10,"Source "),r(11,"span",9),l(12,"*"),s()(),p(13,"input",10),h(14,ri,2,0,"span",11),s(),r(15,"div",7)(16,"label",12),l(17,"Currency "),r(18,"span",9),l(19,"*"),s()(),r(20,"select",13)(21,"option",14),l(22,"Please Select"),s(),h(23,ai,2,2,"option",15),s(),h(24,li,2,0,"span",11),s(),r(25,"div",7)(26,"label",16),l(27,"Amount "),r(28,"span",9),l(29,"*"),s()(),r(30,"div",17)(31,"span",18),l(32),s(),p(33,"input",19),s(),h(34,ci,2,0,"span",11),s(),r(35,"div",20)(36,"label",21),l(37,"Estimated Amount "),r(38,"span",9),l(39,"*"),s()(),r(40,"div",17)(41,"span",18),l(42,"\u20B9"),s(),p(43,"input",22),s(),h(44,di,2,0,"span",11),s(),h(45,ui,2,0,"button",23)(46,pi,2,0,"button",24)(47,hi,2,0,"button",25),s()(),p(48,"div",26)(49,"div",27),s(),h(50,gi,10,4,"ng-template",null,0,De)),t&2){let o,a,m,_;c(7),d("formGroup",n.stockForm),c(7),d("ngIf",((o=n.stockForm.get("source"))==null?null:o.invalid)&&((o=n.stockForm.get("source"))==null?null:o.touched)),c(9),d("ngForOf",n.currencies),c(),d("ngIf",((a=n.stockForm.get("currency"))==null?null:a.invalid)&&((a=n.stockForm.get("currency"))==null?null:a.touched)),c(8),S(n.currentCurrencySymbol),c(2),d("ngIf",((m=n.stockForm.get("amount"))==null?null:m.invalid)&&((m=n.stockForm.get("amount"))==null?null:m.touched)),c(10),d("ngIf",((_=n.stockForm.get("estimatedAmt"))==null?null:_.invalid)&&((_=n.stockForm.get("estimatedAmt"))==null?null:_.touched)),c(),d("ngIf",!n.forEdit),c(),d("ngIf",n.forEdit),c(),d("ngIf",n.forEdit)}},dependencies:[z,se,Ne,Ie,ne,re,Fe,ie,oe,ae,le,T,V,O],styles:['.background[_ngcontent-%COMP%]{background-image:url("./media/girl_image-VPFQJYYI.jpg");background-size:33%;background-repeat:no-repeat;background-position:center center;width:100%;height:100%;display:flex;justify-content:center;align-items:center;position:relative;text-align:center;margin-top:5em}.form-container[_ngcontent-%COMP%]{max-width:61em;width:100%;padding:20px;border:1px solid #ddd;border-radius:8px;background-color:#ffffffe6;box-shadow:0 4px 10px #0000001a;position:relative;display:flex;justify-content:center;align-items:center}.form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.form-group[_ngcontent-%COMP%]{flex:1 1 45%;margin-right:20px;margin-bottom:16px}.form-group1[_ngcontent-%COMP%]{flex:1 1 90%;margin-right:20px;margin-bottom:16px}.form-group[_ngcontent-%COMP%]:nth-of-type(2n){margin-right:0}.form-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:8px;font-weight:700;display:block}.form-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:8px;border:1px solid #ddd;border-radius:4px}.form-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#00786c;outline:none}.submit[_ngcontent-%COMP%], .edit[_ngcontent-%COMP%], .delete[_ngcontent-%COMP%]{background-color:#00786c;color:#fff;border:none;padding:12px;border-radius:4px;cursor:pointer;font-size:16px;transition:background-color .3s ease;margin-top:16px;display:block;width:200px;margin-left:auto;margin-right:auto}.delete[_ngcontent-%COMP%]{background-color:#db5a5a}.submit[_ngcontent-%COMP%]:hover, .edit[_ngcontent-%COMP%]:hover{background-color:#005b47}.delete[_ngcontent-%COMP%]:hover{background-color:red}@media (max-width: 768px){.form-group[_ngcontent-%COMP%]{flex:1 1 100%;margin-right:0}}.cardBoxShadow1[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0003;border-radius:8px;padding:20px;margin-bottom:20px;background-color:#fff}.cardBoxShadow1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#00786c}.triangle[_ngcontent-%COMP%]{width:0;height:0;border-left:60px solid transparent;border-right:60px solid transparent;border-bottom:104.08px solid #FF8A9E;position:absolute;top:2em;left:10em;animation:_ngcontent-%COMP%_rotate 4s linear infinite;transform-origin:center}.triangle1[_ngcontent-%COMP%]{width:0;height:0;border-left:60px solid transparent;border-right:60px solid transparent;border-bottom:104.08px solid #6FB9E7;position:absolute;top:2em;left:10.5em;animation:_ngcontent-%COMP%_rotate1 4s linear infinite;transform-origin:center}.triangle3[_ngcontent-%COMP%]{width:0;height:0;border-left:60px solid transparent;border-right:60px solid transparent;border-bottom:104.08px solid #77D9D9;position:absolute;bottom:2em;right:10em;z-index:-5;animation:_ngcontent-%COMP%_rotate 4s linear infinite;transform-origin:center}.triangle2[_ngcontent-%COMP%]{width:0;height:0;border-left:60px solid transparent;border-right:60px solid transparent;border-bottom:104.08px solid #f3c089;position:absolute;bottom:2em;right:10em;z-index:-5;animation:_ngcontent-%COMP%_rotate1 4s linear infinite;transform-origin:center}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_rotate1{0%{transform:rotate(360deg)}to{transform:rotate(0)}}.my-modal[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin:auto;display:flex;justify-content:center}.btn-red[_ngcontent-%COMP%]{color:#fff;background-color:red}.error[_ngcontent-%COMP%]{color:red}.symbolBox[_ngcontent-%COMP%]{background-color:#00786c;width:1.5em;border-top-left-radius:5px;border-bottom-left-radius:5px;color:#fff;font-size:28px;height:1.6em}']})};function bi(i,e){if(i&1){let t=v();r(0,"button",28),f("click",function(){b(t);let o=u();return y(o.onSubmit("submit"))}),l(1,"Submit"),s()}}function yi(i,e){if(i&1){let t=v();r(0,"button",29),f("click",function(){b(t);let o=u();return y(o.onSubmit("edit"))}),l(1,"Edit"),s()}}function vi(i,e){if(i&1){let t=v();r(0,"button",30),f("click",function(){b(t);let o=u();return y(o.onSubmit("delete"))}),l(1,"Delete"),s()}}var je=class i{constructor(e,t,n,o){this.fb=e;this.http=t;this.router=n;this.platformId=o}stockForm;dataForEdit;orderId;forEdit=!1;platformId;ngOnInit(){if(this.buildForm(),A(this.platformId)){let e=sessionStorage.getItem("Data_for_Edit");e&&(this.forEdit=!0,this.dataForEdit=JSON.parse(e),this.orderId=this.dataForEdit.orderId,this.stockForm.patchValue({type:this.dataForEdit?.type,currentValue:this.dataForEdit?.currentValue,quantity:this.dataForEdit?.quantity,purchasePrice:this.dataForEdit?.purchasePrice,totalValue:this.dataForEdit?.totalValue,purchaseDate:this.dataForEdit?.purchaseDate}))}}buildForm(){this.stockForm=this.fb.group({type:["",C.required],currentValue:["",[C.required,C.min(0)]],quantity:["",[C.required,C.min(0)]],purchasePrice:["",[C.required,C.min(0)]],totalValue:[{value:"",disabled:!0}],purchaseDate:["",C.required]}),this.stockForm.get("quantity")?.valueChanges.subscribe(()=>this.updateTotalValue()),this.stockForm.get("currentValue")?.valueChanges.subscribe(()=>this.updateTotalValue())}updateTotalValue(){let e=this.stockForm.get("quantity")?.value||0,t=this.stockForm.get("currentValue")?.value||0,n=e*t;this.stockForm.get("totalValue")?.setValue(n,{emitEvent:!1})}onSubmit(e){if(this.stockForm.valid){let t=this.stockForm.value;if(this.forEdit&&this.orderId&&e=="edit"){let n=H(R({},t),{orderId:this.orderId});this.http.post("http://localhost:3000/api/portfolio/updateCrypto",n).subscribe(o=>{o&&this.router.navigate(["/add-investment/"])},o=>{console.error("Error updating stock:",o)})}if(this.forEdit&&this.orderId&&e=="delete"){let n={orderId:this.orderId};this.http.post("http://localhost:3000/api/portfolio/deleteCrypto",n).subscribe(o=>{o&&this.router.navigate(["/add-investment/crypto"])})}else if(!this.forEdit){let n=H(R({},t),{totalValue:this.stockForm.get("totalValue")?.value});this.http.post("http://localhost:3000/api/portfolio/putcrypto",n).subscribe(o=>{console.log("Stock added successfully:",o)},o=>{console.error("Error adding stock:",o)})}}}ngOnDestroy(){A(this.platformId)&&sessionStorage.getItem("Data_for_Edit")&&sessionStorage.removeItem("Data_for_Edit")}static \u0275fac=function(t){return new(t||i)(g(ce),g(D),g(M),g(K))};static \u0275cmp=E({type:i,selectors:[["app-add-crypto"]],standalone:!0,features:[w],decls:49,vars:4,consts:[[1,"cardBoxShadow1","mt-2"],[1,"background"],[1,"triangle"],[1,"triangle1"],[1,"form-container"],[3,"formGroup"],[1,"form-group"],["for","symbol"],["id","symbol","formControlName","type"],["value",""],["value","Bitcoin"],["value","Ethereum"],["value","Ripple"],["value","Litecoin"],["value","Cardano"],["for","company"],["id","company","formControlName","purchasePrice","type","number"],["id","company","formControlName","currentValue","type","number"],["for","quantity"],["id","quantity","formControlName","quantity","type","number"],["for","purchasePrice"],["id","purchasePrice","formControlName","purchaseDate","type","date"],["id","company","formControlName","totalValue","type","number"],["type","submit","class","submit",3,"click",4,"ngIf"],["type","submit","class","edit",3,"click",4,"ngIf"],["type","submit","class","delete",3,"click",4,"ngIf"],[1,"triangle2"],[1,"triangle3"],["type","submit",1,"submit",3,"click"],["type","submit",1,"edit",3,"click"],["type","submit",1,"delete",3,"click"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"span"),l(2,"Add/Edit CryptoCurrency"),s()(),r(3,"div",1),p(4,"div",2)(5,"div",3),r(6,"div",4)(7,"form",5)(8,"div",6)(9,"label",7),l(10,"Type"),s(),r(11,"select",8)(12,"option",9),l(13,"Select Type"),s(),r(14,"option",10),l(15,"Bitcoin"),s(),r(16,"option",11),l(17,"Ethereum"),s(),r(18,"option",12),l(19,"Ripple"),s(),r(20,"option",13),l(21,"Litecoin"),s(),r(22,"option",14),l(23,"Cardano"),s()()(),r(24,"div",6)(25,"label",15),l(26,"Purchase Price"),s(),p(27,"input",16),s(),r(28,"div",6)(29,"label",15),l(30,"Current Price"),s(),p(31,"input",17),s(),r(32,"div",6)(33,"label",18),l(34,"Quantity"),s(),p(35,"input",19),s(),r(36,"div",6)(37,"label",20),l(38,"Purchase Date"),s(),p(39,"input",21),s(),r(40,"div",6)(41,"label",15),l(42,"Total Value"),s(),p(43,"input",22),s(),h(44,bi,2,0,"button",23)(45,yi,2,0,"button",24)(46,vi,2,0,"button",25),s()(),p(47,"div",26)(48,"div",27),s()),t&2&&(c(7),d("formGroup",n.stockForm),c(37),d("ngIf",!n.forEdit),c(),d("ngIf",n.forEdit),c(),d("ngIf",n.forEdit))},dependencies:[z,se,Ne,Ie,ne,re,Fe,ie,oe,ae,le,T,O,wt],styles:['.background[_ngcontent-%COMP%]{background-image:url("./media/girl_image-VPFQJYYI.jpg");background-size:33%;background-repeat:no-repeat;background-position:center center;width:100%;height:100%;display:flex;justify-content:center;align-items:center;position:relative;text-align:center;margin-top:5em}.form-container[_ngcontent-%COMP%]{max-width:61em;width:100%;padding:20px;border:1px solid #ddd;border-radius:8px;background-color:#ffffffe6;box-shadow:0 4px 10px #0000001a;position:relative;display:flex;justify-content:center;align-items:center}.form-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.form-group[_ngcontent-%COMP%]{flex:1 1 45%;margin-right:20px;margin-bottom:16px}.form-group[_ngcontent-%COMP%]:nth-of-type(2n){margin-right:0}.form-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:8px;font-weight:700;display:block}.form-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:8px;border:1px solid #ddd;border-radius:4px}.form-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#00786c;outline:none}.submit[_ngcontent-%COMP%], .edit[_ngcontent-%COMP%], .delete[_ngcontent-%COMP%]{background-color:#00786c;color:#fff;border:none;padding:12px;border-radius:4px;cursor:pointer;font-size:16px;transition:background-color .3s ease;margin-top:16px;display:block;width:200px;margin-left:auto;margin-right:auto}.delete[_ngcontent-%COMP%]{background-color:#db5a5a}.submit[_ngcontent-%COMP%]:hover, .edit[_ngcontent-%COMP%]:hover{background-color:#005b47}.delete[_ngcontent-%COMP%]:hover{background-color:red}@media (max-width: 768px){.form-group[_ngcontent-%COMP%]{flex:1 1 100%;margin-right:0}}.cardBoxShadow1[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0003;border-radius:8px;padding:20px;margin-bottom:20px;background-color:#fff}.cardBoxShadow1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#00786c}.triangle[_ngcontent-%COMP%]{width:0;height:0;border-left:60px solid transparent;border-right:60px solid transparent;border-bottom:104.08px solid #FF8A9E;position:absolute;top:2em;left:10em;animation:_ngcontent-%COMP%_rotate 4s linear infinite;transform-origin:center}.triangle1[_ngcontent-%COMP%]{width:0;height:0;border-left:60px solid transparent;border-right:60px solid transparent;border-bottom:104.08px solid #6FB9E7;position:absolute;top:2em;left:10.5em;animation:_ngcontent-%COMP%_rotate1 4s linear infinite;transform-origin:center}.triangle3[_ngcontent-%COMP%]{width:0;height:0;border-left:60px solid transparent;border-right:60px solid transparent;border-bottom:104.08px solid #77D9D9;position:absolute;bottom:2em;right:10em;z-index:-5;animation:_ngcontent-%COMP%_rotate 4s linear infinite;transform-origin:center}.triangle2[_ngcontent-%COMP%]{width:0;height:0;border-left:60px solid transparent;border-right:60px solid transparent;border-bottom:104.08px solid #f3c089;position:absolute;bottom:2em;right:10em;z-index:-5;animation:_ngcontent-%COMP%_rotate1 4s linear infinite;transform-origin:center}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_rotate1{0%{transform:rotate(360deg)}to{transform:rotate(0)}}']})};var Ci=[{path:"",redirectTo:"initialise",pathMatch:"full"},{path:"initialise",component:ye},{path:"stocks",component:fe},{path:"cash",component:ge},{path:"crypto",component:be},{path:"fd",component:_e},{path:"fetch-news",component:N},{path:"add-stock",component:ve},{path:"add-cash",component:$e},{path:"add-fd",component:Ge},{path:"add-crypto",component:je}],We=class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Te({type:i});static \u0275inj=we({imports:[tt.forChild(Ci),tt]})};var kt=class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=Te({type:i});static \u0275inj=we({imports:[T,We,_e,fe,ge,be,ye,N,ve,z]})};export{kt as a};
